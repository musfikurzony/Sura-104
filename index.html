<!DOCTYPE html>
<html lang="bn" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <title>Al-Qur'an Word by Word</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
        sans-serif;
      background: #0b1824;
      color: #f9fafb;
    }

    .app-shell {
      max-width: 900px;
      margin: 0 auto;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }

    header {
      padding: 0.9rem 1rem 0.6rem;
      border-bottom: 1px solid rgba(148, 163, 184, 0.35);
      position: sticky;
      top: 0;
      z-index: 20;
      background: rgba(15, 23, 42, 0.96);
      backdrop-filter: blur(12px);
    }

    .header-top {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 0.75rem;
    }

    .brand-title {
      display: flex;
      flex-direction: column;
      gap: 0.15rem;
    }

    .brand-title-main {
      font-size: 1rem;
      letter-spacing: 0.12em;
      text-transform: uppercase;
      color: #38bdf8;
    }

    .brand-title-sub {
      font-size: 0.8rem;
      color: #e5e7eb;
      opacity: 0.9;
    }

    .mode-toggle-group {
      display: inline-flex;
      border-radius: 999px;
      padding: 0.15rem;
      background: radial-gradient(circle at 0 0, #0f172a, #020617);
      border: 1px solid rgba(148, 163, 184, 0.7);
      box-shadow: 0 0 0 1px rgba(15, 23, 42, 0.5);
    }

    .mode-toggle-button {
      position: relative;
      border: none;
      outline: none;
      padding: 0.15rem 0.7rem 0.2rem;
      border-radius: 999px;
      font-size: 0.75rem;
      display: flex;
      align-items: center;
      gap: 0.3rem;
      color: #cbd5f5;
      background: transparent;
      cursor: pointer;
      transition: all 0.18s ease-out;
      white-space: nowrap;
    }

    .mode-toggle-button span.icon {
      font-size: 0.9rem;
    }

    .mode-toggle-button.active {
      background: linear-gradient(135deg, #22c55e, #16a34a);
      color: #0b1120;
      box-shadow: 0 12px 28px rgba(34, 197, 94, 0.32);
    }

    .mode-toggle-button.active span.icon {
      transform: translateY(-0.5px);
    }

    .mode-toggle-button:not(.active):hover {
      background: radial-gradient(circle at 50% 0, rgba(148, 163, 184, 0.14), transparent);
      color: #e5e7eb;
    }

    .header-bottom {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-top: 0.4rem;
      gap: 0.75rem;
    }

    .sura-title-wrap {
      display: flex;
      align-items: baseline;
      gap: 0.5rem;
      min-width: 0;
    }

    .sura-title-main {
      font-size: 0.9rem;
      font-weight: 600;
      color: #e5e7eb;
      display: flex;
      align-items: center;
      gap: 0.35rem;
    }

    .sura-title-main .num-pill {
      font-size: 0.7rem;
      padding: 0.08rem 0.4rem;
      border-radius: 999px;
      background: rgba(15, 23, 42, 0.9);
      color: #bae6fd;
      border: 1px solid rgba(56, 189, 248, 0.8);
    }

    .sura-title-sub {
      font-size: 0.75rem;
      color: #9ca3af;
      display: flex;
      align-items: center;
      gap: 0.35rem;
      flex-wrap: wrap;
    }

    .sura-title-sub span.ar {
      font-family: "Scheherazade", "Amiri", "Noto Naskh Arabic", serif;
      font-size: 0.8rem;
      direction: rtl;
      unicode-bidi: isolate;
    }

    .btn-ghost {
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.7);
      background: radial-gradient(circle at 0 0, #020617, #020617);
      color: #e5e7eb;
      font-size: 0.75rem;
      padding: 0.25rem 0.7rem;
      display: inline-flex;
      align-items: center;
      gap: 0.35rem;
      cursor: pointer;
      min-height: 1.9rem;
      transition: all 0.16s ease-out;
    }

    .btn-ghost span.icon {
      font-size: 0.9rem;
      opacity: 0.9;
    }

    .btn-ghost:hover {
      background: radial-gradient(circle at 10% 0, rgba(148, 163, 184, 0.16), #020617);
      border-color: rgba(248, 250, 252, 0.8);
      transform: translateY(-0.5px);
    }

    main {
      flex: 1;
      display: flex;
      flex-direction: column;
      padding: 0.75rem 0.75rem 1.2rem;
      gap: 0.75rem;
    }

    .panel {
      border-radius: 1rem;
      border: 1px solid rgba(148, 163, 184, 0.4);
      background: radial-gradient(circle at 0 0, rgba(15, 23, 42, 0.95), #020617);
      box-shadow:
        0 18px 40px rgba(15, 23, 42, 0.85),
        0 0 0 1px rgba(15, 23, 42, 0.8);
      padding: 0.9rem;
    }

    .panel-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 0.5rem;
      margin-bottom: 0.5rem;
    }

    .panel-title {
      font-size: 0.9rem;
      font-weight: 600;
      display: flex;
      align-items: center;
      gap: 0.4rem;
      color: #e5e7eb;
    }

    .panel-title span.icon {
      font-size: 1.1rem;
    }

    .panel-subtitle {
      font-size: 0.75rem;
      color: #9ca3af;
      margin-top: 0.15rem;
    }

    .sura-list {
      display: flex;
      flex-direction: column;
      gap: 0.3rem;
      max-height: 280px;
      overflow: auto;
      padding-right: 0.2rem;
    }

    .sura-list::-webkit-scrollbar {
      width: 6px;
    }

    .sura-list::-webkit-scrollbar-track {
      background: transparent;
    }

    .sura-list::-webkit-scrollbar-thumb {
      background: rgba(75, 85, 99, 0.9);
      border-radius: 999px;
    }

    .sura-item {
      display: flex;
      align-items: center;
      gap: 0.55rem;
      padding: 0.35rem 0.4rem;
      border-radius: 0.7rem;
      cursor: pointer;
      transition: all 0.16s ease-out;
      border: 1px solid transparent;
    }

    .sura-item:hover {
      background: radial-gradient(circle at 0 0, rgba(30, 64, 175, 0.5), rgba(15, 23, 42, 0.9));
      border-color: rgba(129, 140, 248, 0.7);
      transform: translateY(-0.5px);
    }

    .sura-item.active {
      background: radial-gradient(circle at 0 0, #22c55e, #15803d);
      border-color: rgba(74, 222, 128, 1);
      box-shadow: 0 14px 32px rgba(34, 197, 94, 0.5);
      color: #022c22;
    }

    .sura-item.active .sura-number {
      background: rgba(6, 95, 70, 0.95);
      border-color: rgba(74, 222, 128, 0.9);
      color: #bbf7d0;
    }

    .sura-number {
      font-size: 0.75rem;
      padding: 0.18rem 0.5rem;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.7);
      background: radial-gradient(circle at 0 0, #020617, #020617);
      color: #e5e7eb;
      flex-shrink: 0;
    }

    .sura-meta {
      display: flex;
      flex-direction: column;
      gap: 0.1rem;
      min-width: 0;
    }

    .sura-name-row {
      display: flex;
      justify-content: space-between;
      gap: 0.4rem;
      align-items: baseline;
    }

    .sura-name-bn {
      font-size: 0.85rem;
      font-weight: 500;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .sura-name-ar {
      font-family: "Scheherazade", "Amiri", "Noto Naskh Arabic", serif;
      font-size: 0.9rem;
      direction: rtl;
      unicode-bidi: isolate;
      opacity: 0.95;
    }

    .sura-meta-sub {
      font-size: 0.7rem;
      color: #9ca3af;
      display: flex;
      gap: 0.35rem;
      flex-wrap: wrap;
      align-items: center;
    }

    .pill {
      padding: 0.05rem 0.45rem;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.6);
      background: rgba(15, 23, 42, 0.9);
    }

    .preview-panel {
      margin-top: 0.75rem;
      border-radius: 1rem;
      border: 1px dashed rgba(148, 163, 184, 0.7);
      padding: 0.7rem 0.8rem;
      background: radial-gradient(circle at 0 0, rgba(30, 64, 175, 0.55), rgba(15, 23, 42, 0.96));
    }

    .preview-title {
      font-size: 0.85rem;
      font-weight: 500;
      margin-bottom: 0.35rem;
      display: flex;
      align-items: center;
      gap: 0.35rem;
    }

    .preview-title span.icon {
      font-size: 1rem;
    }

    .preview-line {
      font-size: 0.8rem;
      color: #e5e7eb;
      opacity: 0.95;
    }

    .preview-line span.label {
      color: #a5b4fc;
    }

    .preview-line span.value {
      color: #e5e7eb;
    }

    .preview-line span.empty {
      color: #fca5a5;
    }

    .reading-panel {
      margin-top: 0.75rem;
    }

    .bismillah {
      text-align: center;
      margin: 0.1rem 0 0.6rem;
    }

    .bismillah-ar {
      font-family: "Scheherazade", "Amiri", "Noto Naskh Arabic", serif;
      font-size: 1.4rem;
      margin-bottom: 0.25rem;
      direction: rtl;
      unicode-bidi: isolate;
    }

    .bismillah-bn {
      font-size: 0.85rem;
      color: #cbd5f5;
    }

    .ayah-list {
      display: flex;
      flex-direction: column;
      gap: 0.6rem;
    }

    .ayah-card {
      border-radius: 0.9rem;
      padding: 0.6rem 0.7rem;
      background: radial-gradient(circle at 0 0, rgba(15, 23, 42, 0.98), rgba(2, 6, 23, 0.98));
      border: 1px solid rgba(30, 64, 175, 0.7);
      box-shadow: 0 10px 22px rgba(15, 23, 42, 0.85);
    }

    .ayah-header-row {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 0.35rem;
    }

    .ayah-num-pill {
      font-size: 0.7rem;
      padding: 0.2rem 0.5rem;
      border-radius: 999px;
      background: rgba(15, 23, 42, 1);
      border: 1px solid rgba(129, 140, 248, 0.9);
      color: #bfdbfe;
    }

    .ayah-ar-main {
      font-family: "Scheherazade", "Amiri", "Noto Naskh Arabic", serif;
      direction: rtl;
      unicode-bidi: isolate;
      text-align: right;
      font-size: 1.7rem;
      line-height: 1.6;
      margin-bottom: 0.4rem;
      cursor: default;
      word-wrap: break-word;
    }

    .ayah-bn-main {
      font-size: 0.9rem;
      color: #e5e7eb;
      margin-bottom: 0.1rem;
      text-align: left;
    }

    .ayah-wbw-line {
      margin-top: 0.35rem;
      display: flex;
      flex-wrap: wrap;
      gap: 0.35rem;
      justify-content: flex-start;
    }

    .word-chip {
      display: inline-flex;
      flex-direction: column;
      align-items: flex-start;
      justify-content: center;
      padding: 0.32rem 0.38rem;
      border-radius: 0.5rem;
      border: 1px solid rgba(148, 163, 184, 0.65);
      background: radial-gradient(circle at 0 0, rgba(30, 64, 175, 0.8), rgba(15, 23, 42, 0.96));
      min-width: 2.3rem;
      cursor: pointer;
      transition: all 0.16s ease-out;
      box-shadow: 0 7px 16px rgba(15, 23, 42, 0.9);
    }

    .word-chip:hover {
      transform: translateY(-1px) scale(1.01);
      border-color: rgba(248, 250, 252, 0.95);
      box-shadow: 0 10px 22px rgba(15, 23, 42, 0.95);
    }

    .word-chip.selected {
      background: radial-gradient(circle at 0 0, #22c55e, #16a34a);
      border-color: rgba(34, 197, 94, 1);
      box-shadow: 0 12px 32px rgba(22, 163, 74, 0.7);
      color: #022c22;
    }

    .word-ar {
      font-family: "Scheherazade", "Amiri", "Noto Naskh Arabic", serif;
      direction: rtl;
      unicode-bidi: isolate;
      font-size: 1.2rem;
      line-height: 1.2;
      margin-bottom: 0.08rem;
      text-align: left;
      width: 100%;
    }

    .word-bn {
      font-size: 0.7rem;
      color: #e5e7eb;
      opacity: 0.95;
      text-align: left;
      width: 100%;
    }

    .word-bar {
      position: sticky;
      bottom: 0;
      left: 0;
      right: 0;
      background: linear-gradient(to top, rgba(15, 23, 42, 1), rgba(15, 23, 42, 0.96));
      border-top: 1px solid rgba(148, 163, 184, 0.55);
      padding: 0.55rem 0.8rem 0.6rem;
      display: none;
      z-index: 30;
    }

    .word-bar.visible {
      display: block;
    }

    .word-bar-inner {
      border-radius: 0.8rem;
      border: 1px solid rgba(148, 163, 184, 0.8);
      padding: 0.5rem 0.55rem;
      background: radial-gradient(circle at 0 0, rgba(30, 64, 175, 0.85), rgba(15, 23, 42, 0.98));
      display: flex;
      align-items: flex-start;
      gap: 0.6rem;
      justify-content: space-between;
    }

    .word-bar-texts {
      flex: 1;
      display: flex;
      flex-direction: column;
      gap: 0.25rem;
      min-width: 0;
    }

    .word-bar-label {
      font-size: 0.7rem;
      text-transform: uppercase;
      letter-spacing: 0.16em;
      color: #bef264;
    }

    .word-bar-ar {
      font-family: "Scheherazade", "Amiri", "Noto Naskh Arabic", serif;
      direction: rtl;
      unicode-bidi: isolate;
      font-size: 1.4rem;
      text-align: left;
    }

    .word-bar-bn {
      font-size: 0.85rem;
      color: #e5e7eb;
      text-align: left;
    }

    .word-bar-actions {
      display: flex;
      flex-direction: column;
      gap: 0.3rem;
      margin-left: 0.3rem;
    }

    .btn-grammar {
      border-radius: 0.6rem;
      border: 1px solid rgba(250, 250, 250, 0.9);
      background: radial-gradient(circle at 0 0, #f97316, #ea580c);
      color: #0b1120;
      font-size: 0.75rem;
      padding: 0.25rem 0.6rem;
      display: inline-flex;
      align-items: center;
      gap: 0.3rem;
      cursor: pointer;
      white-space: nowrap;
      box-shadow: 0 10px 20px rgba(234, 88, 12, 0.7);
      font-weight: 600;
    }

    .btn-grammar span.icon {
      font-size: 0.9rem;
    }

    .btn-close-word {
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.8);
      background: rgba(15, 23, 42, 0.9);
      color: #cbd5f5;
      font-size: 0.75rem;
      padding: 0.15rem 0.55rem;
      display: inline-flex;
      align-items: center;
      gap: 0.25rem;
      cursor: pointer;
      white-space: nowrap;
    }

    .btn-close-word span.icon {
      font-size: 0.9rem;
    }

    .modal-backdrop {
      position: fixed;
      inset: 0;
      background: rgba(15, 23, 42, 0.75);
      backdrop-filter: blur(10px);
      display: none;
      align-items: center;
      justify-content: center;
      padding: 1rem;
      z-index: 40;
    }

    .modal-backdrop.visible {
      display: flex;
    }

    .modal {
      max-width: 640px;
      width: 100%;
      border-radius: 1rem;
      border: 1px solid rgba(148, 163, 184, 0.9);
      background: radial-gradient(circle at 0 0, rgba(15, 23, 42, 0.98), #020617);
      box-shadow:
        0 24px 60px rgba(15, 23, 42, 0.95),
        0 0 0 1px rgba(15, 23, 42, 0.9);
      padding: 0.85rem 0.95rem 0.9rem;
      display: flex;
      flex-direction: column;
      max-height: 80vh;
    }

    .modal-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 0.35rem;
      gap: 0.5rem;
    }

    .modal-title {
      font-size: 0.9rem;
      font-weight: 600;
      display: flex;
      align-items: center;
      gap: 0.35rem;
    }

    .modal-title span.icon {
      font-size: 1.1rem;
    }

    .modal-close-btn {
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.85);
      background: rgba(15, 23, 42, 0.95);
      color: #e5e7eb;
      font-size: 0.8rem;
      padding: 0.15rem 0.6rem;
      display: inline-flex;
      align-items: center;
      gap: 0.3rem;
      cursor: pointer;
      white-space: nowrap;
    }

    .modal-body {
      padding-top: 0.2rem;
      border-top: 1px solid rgba(51, 65, 85, 0.8);
      margin-top: 0.2rem;
      overflow: auto;
    }

    .modal-body::-webkit-scrollbar {
      width: 7px;
    }

    .modal-body::-webkit-scrollbar-thumb {
      background: rgba(75, 85, 99, 0.95);
      border-radius: 999px;
    }

    .modal-ar {
      font-family: "Scheherazade", "Amiri", "Noto Naskh Arabic", serif;
      direction: rtl;
      unicode-bidi: isolate;
      font-size: 1.4rem;
      text-align: left;
      margin-bottom: 0.4rem;
    }

    .modal-bn {
      font-size: 0.9rem;
      color: #e5e7eb;
      margin-bottom: 0.5rem;
      text-align: left;
    }

    .modal-notes-label {
      font-size: 0.8rem;
      text-transform: uppercase;
      letter-spacing: 0.16em;
      color: #a5b4fc;
      margin-bottom: 0.35rem;
    }

    .modal-notes-text {
      font-size: 0.85rem;
      color: #e5e7eb;
      line-height: 1.6;
      text-align: left;
      white-space: pre-wrap;
    }

    .settings-panel {
      display: flex;
      flex-direction: column;
      gap: 0.45rem;
      font-size: 0.8rem;
    }

    .settings-row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 0.5rem;
    }

    .settings-label {
      color: #e5e7eb;
    }

    .settings-slider {
      flex: 0 0 45%;
      display: flex;
      align-items: center;
      gap: 0.35rem;
    }

    .settings-slider input[type="range"] {
      width: 100%;
    }

    .settings-value {
      font-size: 0.75rem;
      color: #cbd5f5;
      min-width: 2.2rem;
      text-align: right;
    }

    @media (max-width: 640px) {
      header {
        padding: 0.7rem 0.6rem 0.5rem;
      }
      main {
        padding: 0.6rem 0.55rem 0.9rem;
      }
      .panel {
        padding: 0.7rem;
      }
      .header-bottom {
        flex-wrap: wrap;
        gap: 0.4rem;
      }
      .sura-title-main {
        font-size: 0.85rem;
      }
      .sura-title-sub {
        font-size: 0.72rem;
      }
      .mode-toggle-button {
        font-size: 0.7rem;
        padding-inline: 0.6rem;
      }
      .ayah-ar-main {
        font-size: 1.5rem;
      }
      .word-bar-inner {
        flex-direction: column;
        align-items: stretch;
      }
      .word-bar-actions {
        flex-direction: row;
        justify-content: flex-end;
      }
    }
  </style>
</head>
<body>
  <div class="app-shell">
    <header>
      <div class="header-top">
        <div class="brand-title">
          <div class="brand-title-main">AL-QUR'AN</div>
          <div class="brand-title-sub">Word-by-Word ‚Ä¢ ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ ‡¶∏‡¶π</div>
        </div>

        <div class="mode-toggle-group" id="modeToggleGroup">
          <button
            class="mode-toggle-button active"
            data-mode="telawat"
            id="btnTelawat"
          >
            <span class="icon">üìñ</span>
            <span>‡¶§‡ßá‡¶≤‡¶æ‡¶ì‡¶Ø‡¶º‡¶æ‡¶§</span>
          </button>
          <button
            class="mode-toggle-button"
            data-mode="wbw"
            id="btnWbw"
          >
            <span class="icon">üîç</span>
            <span>‡¶∂‡¶¨‡ßç‡¶¶‡ßá‚Äì‡¶∂‡¶¨‡ßç‡¶¶‡ßá</span>
          </button>
        </div>
      </div>

      <div class="header-bottom">
        <div class="sura-title-wrap">
          <div class="sura-title-main" id="headerSuraTitle">
            <span class="num-pill" id="headerSuraNum">‡¶∏‡ßÇ‡¶∞‡¶æ ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®</span>
            <span id="headerSuraNameBn">‚Äî ‡¶∏‡ßÇ‡¶∞‡¶æ ‡¶§‡¶æ‡¶≤‡¶ø‡¶ï‡¶æ ‡¶•‡ßá‡¶ï‡ßá ‡¶è‡¶ï‡¶ü‡¶ø ‡¶¨‡ßá‡¶õ‡ßá ‡¶®‡¶ø‡¶®</span>
          </div>
        </div>

        <button class="btn-ghost" id="btnBackToList" style="display:none;">
          <span class="icon">‚Üê</span>
          <span>‡¶∏‡ßÇ‡¶∞‡¶æ ‡¶§‡¶æ‡¶≤‡¶ø‡¶ï‡¶æ‡ßü ‡¶´‡¶ø‡¶∞‡ßÅ‡¶®</span>
        </button>

        <button class="btn-ghost" id="btnSettings">
          <span class="icon">‚öôÔ∏è</span>
          <span>‡¶´‡¶®‡ßç‡¶ü &amp; ‡¶≠‡¶ø‡¶â ‡¶∏‡ßá‡¶ü‡¶ø‡¶Ç</span>
        </button>
      </div>
    </header>

    <main>
      <section class="panel" id="suraListPanel">
        <div class="panel-header">
          <div>
            <div class="panel-title">
              <span class="icon">üìö</span>
              <span>‡¶∏‡ßÇ‡¶∞‡¶æ‡¶∞ ‡¶§‡¶æ‡¶≤‡¶ø‡¶ï‡¶æ</span>
            </div>
            <div class="panel-subtitle">
              ‡ßß‚Äì‡ßß‡ßß‡ß™ ‡¶™‡¶∞‡ßç‡¶Ø‡¶®‡ßç‡¶§ ‡¶∏‡¶¨ ‡¶∏‡ßÇ‡¶∞‡¶æ ‚Äî ‡¶Ø‡ßá ‡¶∏‡ßÇ‡¶∞‡¶æ‡¶∞ JSON data ‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§ ‡¶π‡¶¨‡ßá, ‡¶∏‡ßá‡¶ü‡¶ø ‡¶™‡ßú‡¶æ ‡¶Ø‡¶æ‡¶¨‡ßá‡•§
            </div>
          </div>
        </div>

        <div class="sura-list" id="suraList"></div>

        <div class="preview-panel">
          <div class="preview-title">
            <span class="icon">‚ÑπÔ∏è</span>
            <span>‡¶™‡ßç‡¶∞‡¶ø‡¶≠‡¶ø‡¶â ‡¶§‡¶•‡ßç‡¶Ø</span>
          </div>
          <div class="preview-line">
            <span class="label">‡¶≤‡ßã‡¶°‡ßá‡¶° ‡¶∏‡ßÇ‡¶∞‡¶æ:</span>
            <span class="value" id="loadedSurasInfo"></span>
          </div>
        </div>
      </section>

      <section class="panel reading-panel" id="readingPanel" style="display:none;">
        <div class="panel-header">
          <div>
            <div class="panel-title">
              <span class="icon">üïã</span>
              <span id="readingPanelTitle">‡¶§‡ßá‡¶≤‡¶æ‡¶ì‡¶Ø‡¶º‡¶æ‡¶§ / ‡¶∂‡¶¨‡ßç‡¶¶‡ßá-‡¶∂‡¶¨‡ßç‡¶¶‡ßá</span>
            </div>
            <div class="panel-subtitle" id="readingPanelSubtitle">
              ‡¶â‡¶™‡¶∞‡ßá ‡¶Æ‡ßã‡¶° ‡¶¨‡¶¶‡¶≤‡ßá ‡¶∂‡ßÅ‡¶ß‡ßÅ‡¶á ‡¶§‡ßá‡¶≤‡¶æ‡¶ì‡¶Ø‡¶º‡¶æ‡¶§ ‡¶Ö‡¶•‡¶¨‡¶æ ‡¶∂‡¶¨‡ßç‡¶¶‡ßá‚Äì‡¶∂‡¶¨‡ßç‡¶¶‡ßá Arabic+‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ ‡¶¶‡ßá‡¶ñ‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶¨‡ßá‡¶®‡•§
            </div>
          </div>
        </div>

        <div id="suraContent"></div>
      </section>
    </main>

    <div class="word-bar" id="wordBar">
      <div class="word-bar-inner">
        <div class="word-bar-texts">
          <div class="word-bar-label">‡¶∂‡¶¨‡ßç‡¶¶‡ßá‡¶∞ ‡¶Ö‡¶∞‡ßç‡¶•</div>
          <div class="word-bar-ar" id="wordBarAr"></div>
          <div class="word-bar-bn" id="wordBarBn"></div>
        </div>
        <div class="word-bar-actions">
          <button class="btn-grammar" id="btnOpenGrammar">
            <span class="icon">üìö</span>
            <span>‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶∞‡¶£ ‡¶®‡ßã‡¶ü</span>
          </button>
          <button class="btn-close-word" id="btnCloseWord">
            <span class="icon">‚úï</span>
            <span>‡¶¨‡¶®‡ßç‡¶ß</span>
          </button>
        </div>
      </div>
    </div>

    <div class="modal-backdrop" id="grammarModal">
      <div class="modal">
        <div class="modal-header">
          <div class="modal-title">
            <span class="icon">üìò</span>
            <span>‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶∞‡¶£ ‡¶®‡ßã‡¶ü</span>
          </div>
          <button class="modal-close-btn" id="btnCloseGrammarModal">
            <span class="icon">‚úï</span>
            <span>‡¶¨‡¶®‡ßç‡¶ß ‡¶ï‡¶∞‡ßÅ‡¶®</span>
          </button>
        </div>
        <div class="modal-body">
          <div class="modal-ar" id="modalAr"></div>
          <div class="modal-bn" id="modalBn"></div>
          <div class="modal-notes-label">‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶∞‡¶£ ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ñ‡ßç‡¶Ø‡¶æ</div>
          <div class="modal-notes-text" id="modalNotes"></div>
        </div>
      </div>
    </div>

    <div class="modal-backdrop" id="settingsModal">
      <div class="modal">
        <div class="modal-header">
          <div class="modal-title">
            <span class="icon">‚öôÔ∏è</span>
            <span>‡¶´‡¶®‡ßç‡¶ü &amp; ‡¶≠‡¶ø‡¶â ‡¶∏‡ßá‡¶ü‡¶ø‡¶Ç</span>
          </div>
          <button class="modal-close-btn" id="btnCloseSettingsModal">
            <span class="icon">‚úï</span>
            <span>‡¶¨‡¶®‡ßç‡¶ß</span>
          </button>
        </div>
        <div class="modal-body">
          <div class="settings-panel">
            <div class="settings-row">
              <div class="settings-label">‡¶Ü‡¶∞‡¶¨‡¶ø ‡¶´‡¶®‡ßç‡¶ü ‡¶∏‡¶æ‡¶á‡¶ú</div>
              <div class="settings-slider">
                <input type="range" id="arabicFontSlider" min="1.4" max="2.4" step="0.1" value="1.8" />
                <div class="settings-value" id="arabicFontValue">1.8rem</div>
              </div>
            </div>
            <div class="settings-row">
              <div class="settings-label">‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ ‡¶´‡¶®‡ßç‡¶ü ‡¶∏‡¶æ‡¶á‡¶ú</div>
              <div class="settings-slider">
                <input type="range" id="banglaFontSlider" min="0.8" max="1.3" step="0.05" value="0.9" />
                <div class="settings-value" id="banglaFontValue">0.9rem</div>
              </div>
            </div>
            <div class="settings-row">
              <div class="settings-label">‡¶®‡ßã‡¶ü ‡¶´‡¶®‡ßç‡¶ü ‡¶∏‡¶æ‡¶á‡¶ú</div>
              <div class="settings-slider">
                <input type="range" id="notesFontSlider" min="0.8" max="1.2" step="0.05" value="0.95" />
                <div class="settings-value" id="notesFontValue">0.95rem</div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- sura meta (1‚Äì114) from separate file -->
  <script src="suras.js"></script>

  <script>
    const SURAH_LIST = (window.SURAH_META || []).map(meta => ({
      ...meta,
      file: \`surah_\${meta.number}.json\`
    }));

    const suraListEl = document.getElementById("suraList");
    const loadedSurasInfoEl = document.getElementById("loadedSurasInfo");
    const readingPanel = document.getElementById("readingPanel");
    const readingPanelTitle = document.getElementById("readingPanelTitle");
    const readingPanelSubtitle = document.getElementById("readingPanelSubtitle");
    const suraContentEl = document.getElementById("suraContent");
    const suraListPanel = document.getElementById("suraListPanel");
    const btnBackToList = document.getElementById("btnBackToList");

    const headerSuraNum = document.getElementById("headerSuraNum");
    const headerSuraNameBn = document.getElementById("headerSuraNameBn");

    const btnTelawat = document.getElementById("btnTelawat");
    const btnWbw = document.getElementById("btnWbw");

    const wordBar = document.getElementById("wordBar");
    const wordBarAr = document.getElementById("wordBarAr");
    const wordBarBn = document.getElementById("wordBarBn");
    const btnOpenGrammar = document.getElementById("btnOpenGrammar");
    const btnCloseWord = document.getElementById("btnCloseWord");

    const grammarModal = document.getElementById("grammarModal");
    const btnCloseGrammarModal = document.getElementById("btnCloseGrammarModal");
    const modalAr = document.getElementById("modalAr");
    const modalBn = document.getElementById("modalBn");
    const modalNotes = document.getElementById("modalNotes");

    const settingsModal = document.getElementById("settingsModal");
    const btnSettings = document.getElementById("btnSettings");
    const btnCloseSettingsModal = document.getElementById("btnCloseSettingsModal");
    const arabicFontSlider = document.getElementById("arabicFontSlider");
    const arabicFontValue = document.getElementById("arabicFontValue");
    const banglaFontSlider = document.getElementById("banglaFontSlider");
    const banglaFontValue = document.getElementById("banglaFontValue");
    const notesFontSlider = document.getElementById("notesFontSlider");
    const notesFontValue = document.getElementById("notesFontValue");

    let currentMode = "telawat";
    let currentSura = null;
    let currentWord = null;
    let loadedSuras = [];

    function applyFontSizes() {
      const arSize = arabicFontSlider.value + "rem";
      const bnSize = banglaFontSlider.value + "rem";
      const notesSize = notesFontSlider.value + "rem";

      document.querySelectorAll(".ayah-ar-main").forEach(el => {
        el.style.fontSize = arSize;
      });

      document.querySelectorAll(".ayah-bn-main").forEach(el => {
        el.style.fontSize = bnSize;
      });

      document.querySelectorAll(".word-bn, .word-bar-bn, .modal-bn, .modal-notes-text").forEach(el => {
        el.style.fontSize = bnSize;
      });

      document.querySelectorAll(".modal-notes-text").forEach(el => {
        el.style.fontSize = notesSize;
      });

      document.querySelectorAll(".word-ar, .word-bar-ar, .modal-ar").forEach(el => {
        el.style.fontSize = arSize;
      });
    }

    arabicFontSlider.addEventListener("input", () => {
      arabicFontValue.textContent = arabicFontSlider.value + "rem";
      applyFontSizes();
    });
    banglaFontSlider.addEventListener("input", () => {
      banglaFontValue.textContent = banglaFontSlider.value + "rem";
      applyFontSizes();
    });
    notesFontSlider.addEventListener("input", () => {
      notesFontValue.textContent = notesFontSlider.value + "rem";
      applyFontSizes();
    });

    btnSettings.addEventListener("click", () => {
      settingsModal.classList.add("visible");
    });
    btnCloseSettingsModal.addEventListener("click", () => {
      settingsModal.classList.remove("visible");
    });
    settingsModal.addEventListener("click", (e) => {
      if (e.target === settingsModal) {
        settingsModal.classList.remove("visible");
      }
    });

    function updateLoadedSurasInfo() {
      if (loadedSuras.length === 0) {
        loadedSurasInfoEl.textContent = "‡¶è‡¶ñ‡¶®‡ßã ‡¶ï‡ßã‡¶®‡ßã ‡¶∏‡ßÇ‡¶∞‡¶æ JSON data ‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡¶æ ‡¶π‡ßü‡¶®‡¶ø‡•§";
        return;
      }
      const nums = loadedSuras.slice().sort((a, b) => a - b);
      loadedSurasInfoEl.textContent = \`‡¶≤‡ßã‡¶°‡ßá‡¶° ‡¶∏‡ßÇ‡¶∞‡¶æ ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞: \${nums.join(", ")}\`;
    }

    function renderSuraList() {
      suraListEl.innerHTML = "";
      SURAH_LIST.forEach((sura) => {
        const item = document.createElement("div");
        item.className = "sura-item";
        item.dataset.number = sura.number;

        const num = document.createElement("div");
        num.className = "sura-number";
        num.textContent = sura.number.toString().padStart(3, "0");

        const meta = document.createElement("div");
        meta.className = "sura-meta";

        const row = document.createElement("div");
        row.className = "sura-name-row";

        const nameBn = document.createElement("div");
        nameBn.className = "sura-name-bn";
        nameBn.textContent = sura.nameBn || "";

        const nameAr = document.createElement("div");
        nameAr.className = "sura-name-ar";
        nameAr.textContent = sura.nameAr || "";

        row.appendChild(nameBn);
        row.appendChild(nameAr);

        const sub = document.createElement("div");
        sub.className = "sura-meta-sub";
        const pill = document.createElement("span");
        pill.className = "pill";
        pill.textContent = "Word-by-Word JSON: surah_" + sura.number + ".json";
        sub.appendChild(pill);

        meta.appendChild(row);
        meta.appendChild(sub);

        item.appendChild(num);
        item.appendChild(meta);

        item.addEventListener("click", () => selectSura(sura));

        suraListEl.appendChild(item);
      });
    }

    function setMode(mode) {
      currentMode = mode;
      if (mode === "telawat") {
        btnTelawat.classList.add("active");
        btnWbw.classList.remove("active");
        readingPanelTitle.textContent = "‡¶∂‡ßÅ‡¶ß‡ßÅ ‡¶§‡ßá‡¶≤‡¶æ‡¶ì‡¶Ø‡¶º‡¶æ‡¶§ (Arabic + ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ ‡¶Ö‡¶®‡ßÅ‡¶¨‡¶æ‡¶¶)";
        readingPanelSubtitle.textContent =
          "Arabic ‡¶§‡ßá‡¶≤‡¶æ‡¶ì‡¶Ø‡¶º‡¶æ‡¶§ ‡¶≤‡¶æ‡¶á‡¶®‡ßá ‡¶∂‡ßÅ‡¶ß‡ßÅ ‡¶™‡¶æ‡¶†‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶¶‡ßá‡¶ñ‡¶æ‡¶¨‡ßá‡•§ ‡¶∂‡¶¨‡ßç‡¶¶‡ßá‚Äì‡¶∂‡¶¨‡ßç‡¶¶‡ßá ‡¶¶‡ßá‡¶ñ‡¶§‡ßá ‡¶ö‡¶æ‡¶á‡¶≤‡ßá ‡¶â‡¶™‡¶∞‡ßá WBW ‡¶Æ‡ßã‡¶° ‡¶¨‡ßá‡¶õ‡ßá ‡¶®‡¶ø‡¶®‡•§";
      } else {
        btnTelawat.classList.remove("active");
        btnWbw.classList.add("active");
        readingPanelTitle.textContent = "‡¶∂‡¶¨‡ßç‡¶¶‡ßá‚Äì‡¶∂‡¶¨‡ßç‡¶¶‡ßá ‡¶Ö‡¶∞‡ßç‡¶• (Word-by-Word)";
        readingPanelSubtitle.textContent =
          "‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶ü‡¶ø Arabic ‡¶∂‡¶¨‡ßç‡¶¶‡ßá ‡¶ü‡ßç‡¶Ø‡¶æ‡¶™ ‡¶ï‡¶∞‡¶≤‡ßá ‡¶®‡¶ø‡¶ö‡ßá ‡¶¨‡ßã‡¶ù‡¶æ‡¶∞ ‡¶∏‡ßÅ‡¶¨‡¶ø‡¶ß‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ ‡¶Ö‡¶∞‡ßç‡¶• ‡¶ì Grammar ‡¶®‡ßã‡¶ü ‡¶¶‡ßá‡¶ñ‡¶§‡ßá ‡¶™‡¶æ‡¶¨‡ßá‡¶®‡•§";
      }
      renderSuraContent();
    }

    btnTelawat.addEventListener("click", () => setMode("telawat"));
    btnWbw.addEventListener("click", () => setMode("wbw"));

    function selectSura(suraMeta) {
      const prevActive = document.querySelector(".sura-item.active");
      if (prevActive) prevActive.classList.remove("active");
      const thisItem = document.querySelector(
        '.sura-item[data-number="' + suraMeta.number + '"]'
      );
      if (thisItem) thisItem.classList.add("active");

      fetch(suraMeta.file)
        .then((res) => {
          if (!res.ok) throw new Error("JSON ‡¶´‡¶æ‡¶á‡¶≤ ‡¶™‡¶æ‡¶ì‡ßü‡¶æ ‡¶Ø‡¶æ‡ßü‡¶®‡¶ø");
          return res.json();
        })
        .then((data) => {
          currentSura = data;
          if (!loadedSuras.includes(suraMeta.number)) {
            loadedSuras.push(suraMeta.number);
            updateLoadedSurasInfo();
          }
          headerSuraNum.textContent = "‡¶∏‡ßÇ‡¶∞‡¶æ " + suraMeta.number;
          headerSuraNameBn.textContent = suraMeta.nameBn || "";

          suraListPanel.style.display = "none";
          readingPanel.style.display = "block";
          btnBackToList.style.display = "inline-flex";
          renderSuraContent();
          applyFontSizes();
        })
        .catch((err) => {
          alert(
            "‡¶¶‡ßÅ‡¶É‡¶ñ‡¶ø‡¶§, ‡¶è‡¶á ‡¶∏‡ßÇ‡¶∞‡¶æ‡¶∞ JSON data ‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡¶æ ‡¶Ø‡¶æ‡ßü‡¶®‡¶ø (" +
              suraMeta.file +
              ").\n\n" +
              err.message
          );
        });
    }

    btnBackToList.addEventListener("click", () => {
      readingPanel.style.display = "none";
      suraListPanel.style.display = "block";
      btnBackToList.style.display = "none";
      headerSuraNum.textContent = "‡¶∏‡ßÇ‡¶∞‡¶æ ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®";
      headerSuraNameBn.textContent = "‚Äî ‡¶∏‡ßÇ‡¶∞‡¶æ ‡¶§‡¶æ‡¶≤‡¶ø‡¶ï‡¶æ ‡¶•‡ßá‡¶ï‡ßá ‡¶è‡¶ï‡¶ü‡¶ø ‡¶¨‡ßá‡¶õ‡ßá ‡¶®‡¶ø‡¶®";
      wordBar.classList.remove("visible");
      currentWord = null;
    });

    function renderSuraContent() {
      if (!currentSura) {
        suraContentEl.innerHTML =
          '<div style="font-size:0.85rem;color:#9ca3af;">‡¶è‡¶ñ‡¶®‡ßã ‡¶ï‡ßã‡¶®‡ßã ‡¶∏‡ßÇ‡¶∞‡¶æ ‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡¶æ ‡¶π‡ßü ‡¶®‡¶ø‡•§</div>';
        return;
      }
      const showWBW = currentMode === "wbw";

      let html = "";

      if (currentSura.hasBismillah && currentSura.bismillah) {
        html += '<div class="bismillah">';
        html += '<div class="bismillah-ar">' +
          (currentSura.bismillah.arabic || "") +
          "</div>";
        html += '<div class="bismillah-bn">' +
          (currentSura.bismillah.bangla || "") +
          "</div>";
        html += "</div>";
      }

      html += '<div class="ayah-list">';
      (currentSura.ayahs || []).forEach((ayah) => {
        html += '<article class="ayah-card" data-ayah="' + ayah.ayahNumber + '">';
        html += '<div class="ayah-header-row">';
        html += '<div class="ayah-num-pill">‡¶Ü‡ßü‡¶æ‡¶§ ' + ayah.ayahNumber + "</div>";
        html += "</div>";

        html += '<div class="ayah-ar-main">' + (ayah.arabic || "") + "</div>";
        if (ayah.bangla) {
          html += '<div class="ayah-bn-main">' + ayah.bangla + "</div>";
        }

        if (showWBW && Array.isArray(ayah.words) && ayah.words.length > 0) {
          html += '<div class="ayah-wbw-line">';
          ayah.words.forEach((word, idx) => {
            html +=
              '<button class="word-chip" ' +
              'data-ayah="' + ayah.ayahNumber + '" ' +
              'data-index="' + idx + '">' +
              '<div class="word-ar">' + (word.text || "") + "</div>" +
              '<div class="word-bn">' + (word.meaningBn || "") + "</div>" +
              "</button>";
          });
          html += "</div>";
        }

        html += "</article>";
      });
      html += "</div>";

      suraContentEl.innerHTML = html;

      attachWordEvents();
      applyFontSizes();
    }

    function attachWordEvents() {
      document.querySelectorAll(".word-chip").forEach((btn) => {
        btn.addEventListener("click", () => {
          const ayahNum = parseInt(btn.dataset.ayah, 10);
          const idx = parseInt(btn.dataset.index, 10);
          const ayah = (currentSura.ayahs || []).find(
            (a) => a.ayahNumber === ayahNum
          );
          if (!ayah || !ayah.words || !ayah.words[idx]) return;
          const word = ayah.words[idx];
          currentWord = {
            ayahNumber: ayahNum,
            ...word,
          };

          document.querySelectorAll(".word-chip.selected").forEach((el) =>
            el.classList.remove("selected")
          );
          btn.classList.add("selected");

          wordBarAr.textContent = word.text || "";
          wordBarBn.textContent = word.meaningBn || "";
          wordBar.classList.add("visible");
        });
      });
    }

    btnCloseWord.addEventListener("click", () => {
      wordBar.classList.remove("visible");
      currentWord = null;
      document.querySelectorAll(".word-chip.selected").forEach((el) =>
        el.classList.remove("selected")
      );
    });

    btnOpenGrammar.addEventListener("click", () => {
      if (!currentWord) return;
      modalAr.textContent = currentWord.text || "";
      modalBn.textContent = currentWord.meaningBn || "";
      modalNotes.textContent =
        currentWord.notes ||
        "‡¶è‡¶á ‡¶∂‡¶¨‡ßç‡¶¶‡¶ü‡¶ø‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶è‡¶ñ‡¶®‡ßã ‡¶ï‡ßã‡¶®‡ßã ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶∞‡¶£ ‡¶®‡ßã‡¶ü ‡¶∏‡¶Ç‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§ ‡¶ï‡¶∞‡¶æ ‡¶π‡ßü‡¶®‡¶ø‡•§";
      grammarModal.classList.add("visible");
    });

    btnCloseGrammarModal.addEventListener("click", () => {
      grammarModal.classList.remove("visible");
    });

    grammarModal.addEventListener("click", (e) => {
      if (e.target === grammarModal) {
        grammarModal.classList.remove("visible");
      }
    });

    renderSuraList();
    updateLoadedSurasInfo();
    applyFontSizes();
  </script>
</body>
</html>
