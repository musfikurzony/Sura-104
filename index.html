<!DOCTYPE html>
<html lang="bn">
<head>
  <meta charset="UTF-8" />
  <title>Al-Qur'an ‚Ä¢ Word-by-Word ‚Ä¢ ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <style>
    :root {
      --bg: #0f172a;
      --bg-softer: #111827;
      --bg-soft: #020617;
      --surface: #020617;
      --surface-soft: #020617;
      --primary: #22c55e;
      --primary-soft: rgba(34, 197, 94, 0.1);
      --primary-soft-2: rgba(34, 197, 94, 0.25);
      --accent: #38bdf8;
      --text-main: #e5e7eb;
      --text-soft: #9ca3af;
      --border-subtle: rgba(148, 163, 184, 0.2);
      --radius-lg: 18px;
      --radius-xl: 24px;
      --shadow-soft: 0 24px 60px rgba(15,23,42,0.8);
      --word-bg: rgba(15,23,42,0.85);
      --word-border: rgba(148,163,184,0.2);
    }

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      min-height: 100vh;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
        sans-serif;
      background: radial-gradient(circle at top, #1f2937 0, #020617 55%, #000 100%);
      color: var(--text-main);
      display: flex;
      justify-content: center;
      padding: 24px 12px 32px;
    }

    .app-shell {
      width: 100%;
      max-width: 1120px;
      background: radial-gradient(circle at top left, #020617, #020617 45%, #020617);
      border-radius: 28px;
      border: 1px solid rgba(148, 163, 184, 0.3);
      box-shadow: var(--shadow-soft);
      padding: 18px 18px 22px;
      display: flex;
      flex-direction: column;
      gap: 16px;
      position: relative;
      overflow: hidden;
    }

    .glass-banner {
      border-radius: 22px;
      border: 1px solid rgba(148,163,184,0.35);
      background: linear-gradient(
        135deg,
        rgba(15,23,42,0.7),
        rgba(15,23,42,0.4)
      );
      padding: 14px 18px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 10px;
      position: relative;
      overflow: hidden;
    }

    .glass-banner::before {
      content: "";
      position: absolute;
      inset: 0;
      background: radial-gradient(circle at 0% 0%, rgba(52,211,153,0.12), transparent 57%),
                  radial-gradient(circle at 100% 100%, rgba(59,130,246,0.15), transparent 52%);
      opacity: 0.9;
      pointer-events: none;
    }

    .glass-main {
      position: relative;
      z-index: 1;
    }

    .app-title {
      display: flex;
      flex-direction: column;
      gap: 3px;
    }

    .app-title-main {
      font-size: 1.6rem;
      font-weight: 700;
      letter-spacing: 0.03em;
      display: flex;
      align-items: baseline;
      gap: 0.4rem;
    }

    .app-title-main span.en {
      font-size: 0.9rem;
      font-weight: 500;
      color: var(--text-soft);
      opacity: 0.9;
    }

    .app-subtitle {
      font-size: 0.9rem;
      color: var(--text-soft);
      display: flex;
      align-items: center;
      gap: 0.5rem;
      flex-wrap: wrap;
    }

    .badge {
      display: inline-flex;
      align-items: center;
      gap: 0.35rem;
      padding: 2px 7px;
      border-radius: 999px;
      border: 1px solid rgba(148,163,184,0.4);
      background: rgba(15,23,42,0.85);
      font-size: 0.75rem;
      color: var(--text-soft);
    }

    .badge-dot {
      width: 8px;
      height: 8px;
      border-radius: 999px;
      background: linear-gradient(135deg, #4ade80, #22c55e);
      box-shadow: 0 0 0 3px rgba(34,197,94,0.25);
    }

    .pill-row {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      margin-top: 6px;
    }

    .pill {
      font-size: 0.75rem;
      padding: 2px 9px;
      border-radius: 999px;
      background: rgba(15,23,42,0.85);
      border: 1px solid rgba(148,163,184,0.35);
      color: var(--text-soft);
    }

    .app-actions {
      display: flex;
      flex-direction: column;
      align-items: flex-end;
      gap: 6px;
    }

    .mode-toggle {
      display: inline-flex;
      gap: 6px;
      background: rgba(15,23,42,0.9);
      border-radius: 999px;
      padding: 3px;
      border: 1px solid rgba(148,163,184,0.4);
    }

    .mode-btn {
      border: none;
      background: transparent;
      color: var(--text-soft);
      font-size: 0.78rem;
      padding: 4px 10px;
      border-radius: 999px;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 0.35rem;
      transition: all 0.18s ease;
      white-space: nowrap;
    }

    .mode-btn.active {
      background: linear-gradient(135deg, #22c55e, #16a34a);
      color: #0b1120;
      box-shadow: 0 0 0 1px rgba(34,197,94,0.6), 0 8px 20px rgba(34,197,94,0.4);
      font-weight: 600;
    }

    .mode-btn .emoji {
      font-size: 0.95rem;
    }

    .settings-link {
      font-size: 0.78rem;
      color: var(--accent);
      display: inline-flex;
      align-items: center;
      gap: 4px;
      cursor: pointer;
      opacity: 0.95;
    }

    .settings-link span.icon {
      font-size: 0.9rem;
    }

    .main-grid {
      display: grid;
      grid-template-columns: minmax(0, 3.2fr) minmax(260px, 1.5fr);
      gap: 16px;
      align-items: flex-start;
    }

    @media (max-width: 880px) {
      .main-grid {
        grid-template-columns: minmax(0, 1fr);
      }
    }

    .panel {
      border-radius: 22px;
      border: 1px solid rgba(148,163,184,0.35);
      background: radial-gradient(circle at top, rgba(15,23,42,0.9), #020617);
      padding: 14px 16px 16px;
      position: relative;
      overflow: hidden;
    }

    .panel-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 10px;
      margin-bottom: 10px;
    }

    .panel-title {
      font-size: 0.95rem;
      font-weight: 600;
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .panel-title span.icon {
      font-size: 1.1rem;
    }

    .panel-subtitle {
      font-size: 0.78rem;
      color: var(--text-soft);
      margin-top: 2px;
    }

    .chip {
      font-size: 0.7rem;
      padding: 2px 8px;
      border-radius: 999px;
      border: 1px solid rgba(148,163,184,0.3);
      background: rgba(15,23,42,0.9);
      color: var(--text-soft);
      display: inline-flex;
      align-items: center;
      gap: 4px;
      white-space: nowrap;
    }

    .chip-dot {
      width: 6px;
      height: 6px;
      border-radius: 999px;
      background: linear-gradient(135deg, #22c55e, #16a34a);
    }

    .surah-select-wrapper {
      margin-top: 6px;
      display: flex;
      flex-direction: column;
      gap: 5px;
    }

    .select-label-row {
      display: flex;
      justify-content: space-between;
      align-items: flex-end;
      gap: 8px;
      flex-wrap: wrap;
    }

    .select-label {
      font-size: 0.8rem;
      color: var(--text-soft);
    }

    select {
      width: 100%;
      background: rgba(15,23,42,0.95);
      border-radius: 999px;
      border: 1px solid rgba(148,163,184,0.5);
      padding: 7px 11px;
      color: var(--text-main);
      font-size: 0.9rem;
      outline: none;
      appearance: none;
      background-image: linear-gradient(45deg, transparent 50%, #9ca3af 50%),
        linear-gradient(135deg, #9ca3af 50%, transparent 50%);
      background-position: calc(100% - 14px) 50%, calc(100% - 8px) 50%;
      background-size: 6px 6px, 6px 6px;
      background-repeat: no-repeat;
      cursor: pointer;
    }

    select:focus {
      border-color: var(--primary);
      box-shadow: 0 0 0 1px rgba(34,197,94,0.7);
    }

    .placeholder-box {
      margin-top: 10px;
      border-radius: 14px;
      padding: 10px 11px;
      background: linear-gradient(
        145deg,
        rgba(15,23,42,0.9),
        rgba(15,23,42,0.7)
      );
      border: 1px dashed rgba(148,163,184,0.6);
      font-size: 0.82rem;
      color: var(--text-soft);
      display: flex;
      flex-direction: column;
      gap: 4px;
    }

    .placeholder-title {
      font-weight: 500;
      color: var(--text-main);
      display: flex;
      gap: 6px;
      align-items: center;
    }

    .placeholder-title span.icon {
      font-size: 1rem;
    }

    .settings-grid {
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 8px;
      margin-top: 6px;
    }

    .settings-item {
      display: flex;
      flex-direction: column;
      gap: 2px;
    }

    .settings-label {
      font-size: 0.78rem;
      color: var(--text-soft);
      display: flex;
      justify-content: space-between;
      gap: 6px;
    }

    .settings-label span.value {
      font-size: 0.75rem;
      opacity: 0.9;
    }

    .settings-slider {
      width: 100%;
    }

    input[type="range"] {
      width: 100%;
      appearance: none;
      height: 3px;
      border-radius: 999px;
      background: rgba(31,41,55,1);
      outline: none;
    }

    input[type="range"]::-webkit-slider-thumb {
      appearance: none;
      width: 14px;
      height: 14px;
      border-radius: 999px;
      background: #22c55e;
      box-shadow: 0 0 0 3px rgba(34,197,94,0.4);
      cursor: pointer;
    }

    .toggle-row {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-top: 8px;
    }

    .toggle-pill {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 3px 9px;
      border-radius: 999px;
      border: 1px solid rgba(148,163,184,0.5);
      background: rgba(15,23,42,0.9);
      font-size: 0.78rem;
      cursor: pointer;
      color: var(--text-soft);
    }

    .toggle-pill input {
      appearance: none;
      width: 14px;
      height: 14px;
      border-radius: 999px;
      border: 1px solid rgba(148,163,184,0.8);
      display: inline-block;
      position: relative;
    }

    .toggle-pill input:checked {
      border-color: #22c55e;
      background: radial-gradient(circle at center, #22c55e 0, #16a34a 50%, #166534 100%);
      box-shadow: 0 0 0 3px rgba(34,197,94,0.45);
    }

    .reading-panel {
      border-radius: 22px;
      border: 1px solid rgba(148,163,184,0.35);
      background: radial-gradient(circle at top, rgba(15,23,42,0.9), #020617);
      padding: 14px 16px 18px;
      max-height: 580px;
      overflow: hidden;
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    .reading-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 8px;
      flex-wrap: wrap;
    }

    .reading-meta {
      display: flex;
      flex-direction: column;
      gap: 3px;
    }

    .reading-surah-name {
      font-size: 0.98rem;
      font-weight: 600;
      display: flex;
      align-items: center;
      gap: 8px;
      flex-wrap: wrap;
    }

    .reading-surah-name span.ar {
      font-family: "Scheherazade New", "Noto Naskh Arabic", system-ui;
      font-size: 1.2rem;
    }

    .reading-surah-stats {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      font-size: 0.75rem;
      color: var(--text-soft);
    }

    .view-mode-chips {
      display: inline-flex;
      padding: 3px;
      border-radius: 999px;
      border: 1px solid rgba(148,163,184,0.6);
      background: rgba(15,23,42,0.95);
      gap: 4px;
    }

    .view-mode-button {
      border-radius: 999px;
      padding: 3px 8px;
      border: none;
      background: transparent;
      font-size: 0.78rem;
      color: var(--text-soft);
      display: inline-flex;
      align-items: center;
      gap: 4px;
      cursor: pointer;
      transition: all 0.16s ease;
    }

    .view-mode-button.active {
      background: var(--primary-soft-2);
      color: #bbf7d0;
      font-weight: 500;
      box-shadow: 0 0 0 1px rgba(34,197,94,0.7);
    }

    .reading-body {
      margin-top: 6px;
      padding: 8px 4px 0;
      border-radius: 16px;
      background: radial-gradient(circle at top, rgba(15,23,42,0.95), #020617);
      border: 1px solid rgba(31,41,55,0.9);
      box-shadow: inset 0 0 0 1px rgba(0,0,0,0.7);
      flex: 1;
      min-height: 0;
      overflow-y: auto;
      scrollbar-width: thin;
      scrollbar-color: #4b5563 rgba(15,23,42,0.2);
    }

    .reading-body::-webkit-scrollbar {
      width: 6px;
    }

    .reading-body::-webkit-scrollbar-track {
      background: rgba(15,23,42,0.7);
      border-radius: 999px;
    }

    .reading-body::-webkit-scrollbar-thumb {
      background: #4b5563;
      border-radius: 999px;
    }

    .ayah-block {
      margin-bottom: 10px;
      padding: 8px 10px;
      border-radius: 14px;
      border: 1px solid rgba(55,65,81,0.85);
      background: linear-gradient(
        135deg,
        rgba(15,23,42,0.98),
        rgba(15,23,42,0.92)
      );
      position: relative;
    }

    .ayah-header-row {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      gap: 8px;
      margin-bottom: 6px;
    }

    .ayah-index-pill {
      font-size: 0.75rem;
      padding: 2px 7px;
      border-radius: 999px;
      border: 1px solid rgba(148,163,184,0.6);
      background: radial-gradient(circle at top, rgba(15,23,42,1), rgba(15,23,42,0.9));
      color: var(--text-soft);
      display: inline-flex;
      align-items: center;
      gap: 4px;
    }

    .ayah-index-pill span.bullet {
      width: 6px;
      height: 6px;
      border-radius: 999px;
      background: linear-gradient(135deg, #22c55e, #16a34a);
    }

    .ayah-arabic-small {
      font-family: "Scheherazade New", "Noto Naskh Arabic", system-ui;
      font-size: 1.08rem;
      direction: rtl;
      text-align: right;
    }

    .word-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(84px, 1fr));
      gap: 6px;
      margin-top: 6px;
    }

    .word-card {
      border-radius: 10px;
      background: linear-gradient(
        135deg,
        rgba(15,23,42,0.96),
        rgba(15,23,42,0.94)
      );
      border: 1px solid rgba(75,85,99,0.95);
      box-shadow: 0 6px 12px rgba(0,0,0,0.65);
      padding: 5px 6px 6px;
      display: flex;
      flex-direction: column;
      gap: 3px;
      cursor: default;
      position: relative;
      overflow: hidden;
      transition: transform 0.12s ease, box-shadow 0.12s ease,
        border-color 0.12s ease, background 0.12s ease;
    }

    .word-card:hover {
      transform: translateY(-1px);
      border-color: rgba(34,197,94,0.7);
      box-shadow: 0 10px 18px rgba(0,0,0,0.85);
      background: radial-gradient(circle at top, rgba(22,163,74,0.14), rgba(15,23,42,0.97));
    }

    .word-card:active {
      transform: translateY(0);
      box-shadow: 0 5px 12px rgba(0,0,0,0.75);
    }

    .word-card-main {
      display: flex;
      justify-content: space-between;
      align-items: baseline;
      gap: 6px;
    }

    .word-arabic {
      font-family: "Scheherazade New", "Noto Naskh Arabic", system-ui;
      font-size: 1.05rem;
      direction: rtl;
    }

    .word-bn {
      font-size: 0.78rem;
      color: #e5e7eb;
      text-align: left;
    }

    .word-notes {
      font-size: 0.7rem;
      color: #9ca3af;
      margin-top: 2px;
      line-height: 1.3;
    }

    .translation-section {
      margin-top: 5px;
      padding-top: 5px;
      border-top: 1px dashed rgba(75,85,99,0.9);
      display: flex;
      flex-direction: column;
      gap: 4px;
    }

    .translation-block {
      font-size: 0.8rem;
      color: var(--text-soft);
      border-radius: 9px;
      padding: 4px 6px;
      background: rgba(15,23,42,0.95);
      border: 1px solid rgba(55,65,81,0.9);
    }

    .translation-label {
      font-size: 0.72rem;
      color: #a5b4fc;
      margin-bottom: 1px;
    }

    .reading-footer {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-top: 6px;
      gap: 8px;
      flex-wrap: wrap;
      font-size: 0.78rem;
      color: var(--text-soft);
    }

    .back-button {
      border-radius: 999px;
      border: 1px solid rgba(148,163,184,0.6);
      background: radial-gradient(circle at top, rgba(15,23,42,0.98), rgba(15,23,42,0.9));
      padding: 5px 10px;
      font-size: 0.8rem;
      display: inline-flex;
      align-items: center;
      gap: 5px;
      cursor: pointer;
      color: var(--text-main);
    }

    .back-button:hover {
      border-color: var(--primary);
      box-shadow: 0 0 0 1px rgba(34,197,94,0.7);
    }

    footer.app-footer {
      margin-top: 2px;
      font-size: 0.75rem;
      color: var(--text-soft);
      display: flex;
      justify-content: space-between;
      gap: 8px;
      flex-wrap: wrap;
      padding: 0 2px;
    }

    .footer-right {
      opacity: 0.8;
      text-align: right;
    }

    .footer-right span.highlight {
      color: #a5b4fc;
    }
  </style>
</head>

<body>
  <div class="app-shell">
    <header class="glass-banner">
      <div class="glass-main app-title">
        <div class="app-title-main">
          <span>AL-QUR'AN</span>
          <span class="en">Word-by-Word ‚Ä¢ ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ ‡¶∏‡¶π</span>
        </div>
        <div class="app-subtitle">
          <span>üîç ‡¶∏‡ßÇ‡¶∞‡¶æ ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®, ‡¶§‡¶æ‡¶∞‡¶™‡¶∞:</span>
          <span class="badge">
            <span class="badge-dot"></span>
            ‡¶∂‡¶¨‡ßç‡¶¶‡ßá‚Äì‡¶∂‡¶¨‡ßç‡¶¶‡ßá ¬∑ ‡¶è‡¶ï‡¶æ‡¶ß‡¶ø‡¶ï ‡¶Ö‡¶®‡ßÅ‡¶¨‡¶æ‡¶¶ ¬∑ ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶∞‡¶£
          </span>
        </div>
        <div class="pill-row">
          <span class="pill">‡¶Æ‡¶ï‡ßç‡¶ï‡ßÄ/‡¶Æ‡¶æ‡¶¶‡¶æ‡¶®‡ßÄ, ‡¶Ü‡¶Ø‡¶º‡¶æ‡¶§ ‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ</span>
          <span class="pill">‡¶ì‡¶∏‡¶Æ‡¶æ‡¶®‡ßÄ + ‡¶§‡¶æ‡¶ì‡¶Ø‡ßÄ‡¶π‡ßÅ‡¶≤ ¬∑ multi-translation</span>
          <span class="pill">‡¶™‡¶∞‡ßÄ‡¶ï‡ßç‡¶∑‡¶æ‡¶Æ‡ßÇ‡¶≤‡¶ï ‡¶≠‡¶æ‡¶∞‡ßç‡¶∏‡¶® ¬∑ 100‚Äì104</span>
        </div>
      </div>
      <div class="app-actions">
        <div class="mode-toggle">
          <button class="mode-btn active" type="button">
            <span class="emoji">üìñ</span>
            <span>‡¶∞‡¶ø‡¶°‡¶ø‡¶Ç ‡¶Æ‡ßã‡¶°</span>
          </button>
          <button class="mode-btn" type="button">
            <span class="emoji">üîç</span>
            <span>‡¶ì‡ßü‡¶æ‡¶∞‡ßç‡¶° ‡¶Æ‡ßã‡¶°</span>
          </button>
        </div>
        <div class="settings-link" id="scrollToSettings">
          <span class="icon">‚öôÔ∏è</span>
          <span>‡¶´‡¶®‡ßç‡¶ü & ‡¶≠‡¶ø‡¶â ‡¶∏‡ßá‡¶ü‡¶ø‡¶Ç</span>
        </div>
      </div>
    </header>

    <div class="main-grid">
      <section class="panel">
        <div class="panel-header">
          <div>
            <div class="panel-title">
              <span class="icon">üìö</span>
              <span>‡¶∏‡ßÇ‡¶∞‡¶æ ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶®</span>
            </div>
            <div class="panel-subtitle">
              ‡ßß‚Äì‡ßß‡ßß‡ß™ ‡¶™‡¶∞‡ßç‡¶Ø‡¶®‡ßç‡¶§ ‡¶∏‡¶¨ ‡¶∏‡ßÇ‡¶∞‡¶æ ‚Äî ‡¶è‡¶ñ‡¶® ‡¶™‡¶∞‡ßÄ‡¶ï‡ßç‡¶∑‡¶æ‡¶Æ‡ßÇ‡¶≤‡¶ï‡¶≠‡¶æ‡¶¨‡ßá ‡ßß‡ß¶‡ß¶‚Äì‡ßß‡ß¶‡ß™ ‡¶∏‡¶ï‡ßç‡¶∞‡¶ø‡ßü‡•§
            </div>
          </div>
          <div>
            <span class="chip">
              <span class="chip-dot"></span>
              Live JSON ‡¶•‡ßá‡¶ï‡ßá ‡¶≤‡ßã‡¶° ‡¶π‡¶ö‡ßç‡¶õ‡ßá
            </span>
          </div>
        </div>

        <div class="surah-select-wrapper">
          <div class="select-label-row">
            <div class="select-label">
              ‡¶∏‡ßÇ‡¶∞‡¶æ ‡¶§‡¶æ‡¶≤‡¶ø‡¶ï‡¶æ ‡¶•‡ßá‡¶ï‡ßá ‡¶è‡¶ï‡¶ü‡¶ø ‡¶¨‡ßá‡¶õ‡ßá ‡¶®‡¶ø‡¶®
            </div>
          </div>
          <select id="surahSelect">
            <option value="">‚Äî ‡¶∏‡ßÇ‡¶∞‡¶æ ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶® ‚Äî</option>
          </select>
        </div>

        <div class="placeholder-box">
          <div class="placeholder-title">
            <span class="icon">‚ÑπÔ∏è</span>
            <span>‡¶™‡ßç‡¶∞‡¶ø‡¶≠‡¶ø‡¶â ‡¶§‡¶•‡ßç‡¶Ø</span>
          </div>
          <div>
            ‚Ä¢ ‡¶è‡¶á ‡¶≠‡¶æ‡¶∞‡ßç‡¶∏‡¶®‡ßá ‡ßß‡ß¶‡ß¶‚Äì‡ßß‡ß¶‡ß™ ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞ ‡¶∏‡ßÇ‡¶∞‡¶æ‡¶∞ JSON ‡¶´‡¶æ‡¶á‡¶≤ ‡¶ü‡ßá‡¶∏‡ßç‡¶ü ‡¶ï‡¶∞‡¶æ ‡¶π‡¶ö‡ßç‡¶õ‡ßá‡•§<br />
            ‚Ä¢ ‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶ü‡¶ø ‡¶∏‡ßÇ‡¶∞‡¶æ‡¶∞ JSON‚Äì‡¶è ‡¶•‡¶æ‡¶ï‡¶¨‡ßá: ‡¶Ü‡¶∞‡¶¨‡¶ø, word-by-word, ‡¶®‡ßÅ‡¶®‡ßç‡¶Ø‡¶§‡¶Æ ‡ß®‡¶ü‡¶ø ‡¶Ö‡¶®‡ßÅ‡¶¨‡¶æ‡¶¶‡¶ï (‡¶ì‡¶∏‡¶Æ‡¶æ‡¶®‡ßÄ, ‡¶§‡¶æ‡¶ì‡¶Ø‡ßÄ‡¶π‡ßÅ‡¶≤)‡•§<br />
            ‚Ä¢ ‡¶è‡¶∞ ‡¶™‡¶∞‡ßá ‡¶ß‡ßÄ‡¶∞‡ßá ‡¶ß‡ßÄ‡¶∞‡ßá ‡ßß‚Äì‡ßß‡ßß‡ß™ ‡¶™‡¶∞‡ßç‡¶Ø‡¶®‡ßç‡¶§ ‡¶∏‡¶¨ ‡¶∏‡ßÇ‡¶∞‡¶æ ‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§ ‡¶ï‡¶∞‡¶æ ‡¶π‡¶¨‡ßá ‡¶á‡¶® ‡¶∂‡¶æ ‡¶Ü‡¶≤‡ßç‡¶≤‡¶æ‡¶π‡•§
          </div>
        </div>
      </section>

      <aside class="panel" id="settingsPanel">
        <div class="panel-header">
          <div>
            <div class="panel-title">
              <span class="icon">‚öôÔ∏è</span>
              <span>‡¶´‡¶®‡ßç‡¶ü & ‡¶≠‡¶ø‡¶â ‡¶∏‡ßá‡¶ü‡¶ø‡¶Ç</span>
            </div>
            <div class="panel-subtitle">
              ‡¶∂‡ßÅ‡¶ß‡ßÅ ‡¶§‡ßã‡¶Æ‡¶æ‡¶∞ ‡¶¨‡ßç‡¶∞‡¶æ‡¶â‡¶ú‡¶æ‡¶∞‚Äì‡¶è‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø, Local preference‡•§
            </div>
          </div>
        </div>

        <div class="settings-grid">
          <div class="settings-item">
            <div class="settings-label">
              <span>‡¶Ü‡¶∞‡¶¨‡¶ø ‡¶´‡¶®‡ßç‡¶ü ‡¶∏‡¶æ‡¶á‡¶ú</span>
              <span class="value" id="arabicSizeValue">100%</span>
            </div>
            <input
              id="arabicSizeSlider"
              class="settings-slider"
              type="range"
              min="80"
              max="140"
              value="100"
            />
          </div>
          <div class="settings-item">
            <div class="settings-label">
              <span>‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ ‡¶´‡¶®‡ßç‡¶ü ‡¶∏‡¶æ‡¶á‡¶ú</span>
              <span class="value" id="banglaSizeValue">100%</span>
            </div>
            <input
              id="banglaSizeSlider"
              class="settings-slider"
              type="range"
              min="80"
              max="130"
              value="100"
            />
          </div>
        </div>

        <div class="panel-subtitle" style="margin-top: 10px; font-weight: 500;">
          ‡¶Ö‡¶®‡ßÅ‡¶¨‡¶æ‡¶¶ ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® (multiple writer)
        </div>
        <div class="toggle-row" id="translatorToggles">
          <label class="toggle-pill">
            <input type="checkbox" value="osmani" checked />
            <span>‡¶§‡¶æ‡¶´‡¶∏‡ßÄ‡¶∞‡ßá ‡¶ì‡¶∏‡¶Æ‡¶æ‡¶®‡ßÄ</span>
          </label>
          <label class="toggle-pill">
            <input type="checkbox" value="tawjih" checked />
            <span>‡¶§‡¶æ‡¶ì‡¶Ø‡ßÄ‡¶π‡ßÅ‡¶≤ ‡¶ï‡ßÅ‡¶∞‡¶Ü‡¶®</span>
          </label>
        </div>

        <div class="panel-subtitle" style="margin-top: 8px;">
          üëâ ‡¶è‡¶ï ‡¶¨‡¶æ ‡¶è‡¶ï‡¶æ‡¶ß‡¶ø‡¶ï ‡¶Ö‡¶®‡ßÅ‡¶¨‡¶æ‡¶¶‡¶ï ‡¶è‡¶ï‡¶∏‡¶æ‡¶•‡ßá ‡¶¶‡ßá‡¶ñ‡¶§‡ßá ‡¶ö‡¶æ‡¶á‡¶≤‡ßá ‡¶â‡¶™‡¶∞ ‡¶•‡ßá‡¶ï‡ßá tick/untick ‡¶ï‡¶∞‡ßÅ‡¶®‡•§
        </div>
      </aside>
    </div>

    <section class="reading-panel">
      <div class="reading-header">
        <div class="reading-meta">
          <div class="reading-surah-name" id="readingSurahTitle">
            ‡¶ï‡ßã‡¶®‡ßã ‡¶∏‡ßÇ‡¶∞‡¶æ ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡¶æ ‡¶π‡ßü‡¶®‡¶ø
          </div>
          <div class="reading-surah-stats" id="readingSurahMeta">
            ‡¶∏‡ßÇ‡¶∞‡¶æ ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡¶≤‡ßá ‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶®‡¶æ‡¶Æ, ‡¶ß‡¶∞‡¶®, ‡¶Ü‡¶Ø‡¶º‡¶æ‡¶§ ‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ ‡¶¶‡ßá‡¶ñ‡¶æ‡¶¨‡ßá‡•§
          </div>
        </div>
        <div class="view-mode-chips">
          <button class="view-mode-button active" id="viewWordByWord" type="button">
            <span>üîç</span> ‡¶∂‡¶¨‡ßç‡¶¶‡ßá‚Äì‡¶∂‡¶¨‡ßç‡¶¶‡ßá
          </button>
          <button class="view-mode-button" id="viewAyahOnly" type="button">
            <span>üìñ</span> ‡¶∂‡ßÅ‡¶ß‡ßÅ ‡¶Ö‡¶®‡ßÅ‡¶¨‡¶æ‡¶¶
          </button>
        </div>
      </div>

      <div class="reading-body" id="readingBody">
        <div class="placeholder-box">
          <div class="placeholder-title">
            <span class="icon">üìñ</span>
            <span>‡¶∏‡ßÇ‡¶∞‡¶æ ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®</span>
          </div>
          <div>
            ‡¶â‡¶™‡¶∞‡ßá‡¶∞ ‡¶∏‡ßÇ‡¶∞‡¶æ ‡¶§‡¶æ‡¶≤‡¶ø‡¶ï‡¶æ ‡¶•‡ßá‡¶ï‡ßá ‡¶Ø‡ßá‡¶ï‡ßã‡¶®‡ßã ‡¶è‡¶ï‡¶ü‡¶ø ‡¶∏‡ßÇ‡¶∞‡¶æ ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡¶≤‡ßá ‡¶è‡¶ñ‡¶æ‡¶®‡ßá:
            <br />‚Ä¢ ‡¶â‡¶™‡¶∞‡ßá ‡¶Ü‡¶∞‡¶¨‡¶ø ‡¶Ü‡¶Ø‡¶º‡¶æ‡¶§<br />‚Ä¢ ‡¶®‡¶ø‡¶ö‡ßá word-by-word ‡¶ï‡¶æ‡¶∞‡ßç‡¶° (PDF‚Äì‡¶è‡¶∞ grammar notes ‡¶•‡ßá‡¶ï‡ßá)<br />‚Ä¢ ‡¶§‡¶æ‡¶∞‡¶™‡¶∞ ‡¶è‡¶ï‡¶æ‡¶ß‡¶ø‡¶ï ‡¶Ö‡¶®‡ßÅ‡¶¨‡¶æ‡¶¶‡¶ï (‡¶ì‡¶∏‡¶Æ‡¶æ‡¶®‡ßÄ, ‡¶§‡¶æ‡¶ì‡¶Ø‡ßÄ‡¶π‡ßÅ‡¶≤ ‡¶á‡¶§‡ßç‡¶Ø‡¶æ‡¶¶‡¶ø) ‡¶è‡¶ï‡¶∏‡¶æ‡¶•‡ßá ‡¶¶‡ßá‡¶ñ‡¶æ ‡¶Ø‡¶æ‡¶¨‡ßá‡•§
          </div>
        </div>
      </div>

      <div class="reading-footer">
        <button class="back-button" type="button" id="backToTopBtn">
          <span>‚¨ÖÔ∏è</span>
          <span>‡¶∏‡ßÇ‡¶∞‡¶æ ‡¶§‡¶æ‡¶≤‡¶ø‡¶ï‡¶æ‡ßü ‡¶´‡¶ø‡¶∞‡ßÅ‡¶®</span>
        </button>
        <div>
          <span>Experimental build ¬∑ JSON driven UI ¬∑ v0.2</span>
        </div>
      </div>
    </section>

    <footer class="app-footer">
      <div>
        ‡¶è‡¶á ‡¶™‡ßç‡¶∞‡¶ú‡ßá‡¶ï‡ßç‡¶ü ‡¶∏‡¶Æ‡ßç‡¶™‡ßÇ‡¶∞‡ßç‡¶£ ‡¶¨‡ßç‡¶Ø‡¶ï‡ßç‡¶§‡¶ø‡¶ó‡¶§ ‡¶∏‡ßç‡¶ü‡¶æ‡¶°‡¶ø ‡¶ì ‡¶§‡¶ø‡¶≤‡¶æ‡¶ì‡¶Ø‡¶º‡¶æ‡¶§ ‡¶Ö‡¶®‡ßÅ‡¶∂‡ßÄ‡¶≤‡¶®‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø‡•§
      </div>
      <div class="footer-right">
        Calculator / Qur'an tools by
        <span class="highlight">Musfikur Rahman</span> ¬∑ Perry Ellis Bangladesh
      </div>
    </footer>
  </div>

  <script src="suras.js"></script>
  <script>
    const surahSelect = document.getElementById('surahSelect');
    const readingBody = document.getElementById('readingBody');
    const readingSurahTitle = document.getElementById('readingSurahTitle');
    const readingSurahMeta = document.getElementById('readingSurahMeta');
    const viewWordByWordBtn = document.getElementById('viewWordByWord');
    const viewAyahOnlyBtn = document.getElementById('viewAyahOnly');
    const backToTopBtn = document.getElementById('backToTopBtn');

    const arabicSizeSlider = document.getElementById('arabicSizeSlider');
    const arabicSizeValue = document.getElementById('arabicSizeValue');
    const banglaSizeSlider = document.getElementById('banglaSizeSlider');
    const banglaSizeValue = document.getElementById('banglaSizeValue');

    const scrollToSettingsLink = document.getElementById('scrollToSettings');
    const settingsPanel = document.getElementById('settingsPanel');

    let currentViewMode = 'word'; // 'word' or 'ayah'
    let currentSurahData = null;

    function populateSurahDropdown() {
      try {
        if (!window.suras || !Array.isArray(window.suras)) {
          console.error('suras.js not loaded or malformed');
          return;
        }
        window.suras
          .slice()
          .sort((a, b) => a.number - b.number)
          .forEach((s) => {
            const opt = document.createElement('option');
            opt.value = s.number;
            opt.textContent = `${s.number}. ${s.nameBn} (${s.nameAr})`;
            surahSelect.appendChild(opt);
          });
      } catch (err) {
        console.error('Error populating surah dropdown', err);
      }
    }

    populateSurahDropdown();

    function setViewMode(mode) {
      currentViewMode = mode;
      if (mode === 'word') {
        viewWordByWordBtn.classList.add('active');
        viewAyahOnlyBtn.classList.remove('active');
      } else {
        viewWordByWordBtn.classList.remove('active');
        viewAyahOnlyBtn.classList.add('active');
      }
      renderCurrentSurah();
    }

    viewWordByWordBtn.addEventListener('click', () => setViewMode('word'));
    viewAyahOnlyBtn.addEventListener('click', () => setViewMode('ayah'));

    scrollToSettingsLink.addEventListener('click', () => {
      settingsPanel.scrollIntoView({ behavior: 'smooth', block: 'center' });
    });

    backToTopBtn.addEventListener('click', () => {
      window.scrollTo({ top: 0, behavior: 'smooth' });
    });

    function applyFontSizes() {
      const arabicScale = parseInt(arabicSizeSlider.value, 10) / 100;
      const banglaScale = parseInt(banglaSizeSlider.value, 10) / 100;

      arabicSizeValue.textContent = arabicSizeSlider.value + '%';
      banglaSizeValue.textContent = banglaSizeSlider.value + '%';

      readingBody.style.setProperty('--arabic-scale', arabicScale);
      readingBody.style.setProperty('--bangla-scale', banglaScale);

      readingBody.querySelectorAll('.word-arabic, .ayah-arabic-small').forEach((el) => {
        el.style.fontSize = (1.05 * arabicScale).toString() + 'rem';
      });
      readingBody.querySelectorAll('.word-bn, .translation-block').forEach((el) => {
        el.style.fontSize = (0.8 * banglaScale).toString() + 'rem';
      });
    }

    arabicSizeSlider.addEventListener('input', applyFontSizes);
    banglaSizeSlider.addEventListener('input', applyFontSizes);

    async function loadSurahJson(surahNumber) {
      const suraMeta = (window.suras || []).find((s) => s.number === surahNumber);
      if (!suraMeta || !suraMeta.file) {
        console.error('No file mapped for surah', surahNumber);
        return null;
      }
      const fileName = suraMeta.file;
      try {
        const res = await fetch(fileName + '?v=' + Date.now());
        if (!res.ok) {
          console.error('Failed to fetch', fileName, res.status);
          return null;
        }
        const data = await res.json();
        return { meta: suraMeta, data };
      } catch (err) {
        console.error('Error fetching surah JSON', fileName, err);
        return null;
      }
    }

    function getSelectedTranslators() {
      const toggles = document
        .getElementById('translatorToggles')
        .querySelectorAll('input[type="checkbox"]');
      const selected = [];
      toggles.forEach((chk) => {
        if (chk.checked) selected.push(chk.value);
      });
      return selected;
    }

    function renderCurrentSurah() {
      if (!currentSurahData) return;

      const { meta, data } = currentSurahData;
      const surah = data;

      readingSurahTitle.innerHTML = `
        <span>${meta.number}. ${meta.nameBn}</span>
        <span class="ar">${meta.nameAr}</span>
      `;

      readingSurahMeta.textContent = `${meta.type === 'Makki' ? '‡¶Æ‡¶æ‡¶ï‡ßç‡¶ï‡ßÄ' : '‡¶Æ‡¶æ‡¶¶‡¶æ‡¶®‡ßÄ'} ¬∑ ‡¶Ü‡¶Ø‡¶º‡¶æ‡¶§: ${meta.ayahCount}`;

      const selectedTranslators = getSelectedTranslators();

      const container = document.createElement('div');
      container.style.display = 'flex';
      container.style.flexDirection = 'column';
      container.style.gap = '8px';

      if (surah.hasBismillah && surah.bismillah) {
        const bismBlock = document.createElement('div');
        bismBlock.className = 'ayah-block';
        bismBlock.innerHTML = `
          <div class="ayah-header-row">
            <div class="ayah-index-pill">
              <span class="bullet"></span>
              <span>‡¶¨‡¶ø‡¶∏‡¶Æ‡¶ø‡¶≤‡ßç‡¶≤‡¶æ‡¶π</span>
            </div>
            <div class="ayah-arabic-small">${surah.bismillah.arabic}</div>
          </div>
          <div class="translation-section">
            ${
              selectedTranslators.includes('osmani') && surah.bismillah.translations?.osmani
                ? `<div class="translation-block">
                     <div class="translation-label">üìò ‡¶ì‡¶∏‡¶Æ‡¶æ‡¶®‡ßÄ</div>
                     <div>${surah.bismillah.translations.osmani}</div>
                   </div>`
                : ''
            }
            ${
              selectedTranslators.includes('tawjih') && surah.bismillah.translations?.tawjih
                ? `<div class="translation-block">
                     <div class="translation-label">üìó ‡¶§‡¶æ‡¶ì‡¶Ø‡ßÄ‡¶π‡ßÅ‡¶≤ ‡¶ï‡ßÅ‡¶∞‡¶Ü‡¶®</div>
                     <div>${surah.bismillah.translations.tawjih}</div>
                   </div>`
                : ''
            }
          </div>
        `;
        container.appendChild(bismBlock);
      }

      (surah.ayahs || []).forEach((ayah) => {
        const block = document.createElement('div');
        block.className = 'ayah-block';

        const header = document.createElement('div');
        header.className = 'ayah-header-row';
        header.innerHTML = `
          <div class="ayah-index-pill">
            <span class="bullet"></span>
            <span>‡¶Ü‡¶Ø‡¶º‡¶æ‡¶§ ${ayah.ayahNumber}</span>
          </div>
          <div class="ayah-arabic-small">${ayah.arabic}</div>
        `;
        block.appendChild(header);

        if (currentViewMode === 'word') {
          const wordGrid = document.createElement('div');
          wordGrid.className = 'word-grid';

          (ayah.words || []).forEach((w) => {
            const card = document.createElement('div');
            card.className = 'word-card';

            card.innerHTML = `
              <div class="word-card-main">
                <div class="word-arabic">${w.text || ''}</div>
                <div class="word-bn">${w.meaningBn || ''}</div>
              </div>
              ${
                w.notes
                  ? `<div class="word-notes">${w.notes}</div>`
                  : ''
              }
            `;
            wordGrid.appendChild(card);
          });

          block.appendChild(wordGrid);
        }

        const trSec = document.createElement('div');
        trSec.className = 'translation-section';

        if (selectedTranslators.includes('osmani') && ayah.translations?.osmani) {
          const el = document.createElement('div');
          el.className = 'translation-block';
          el.innerHTML = `
            <div class="translation-label">üìò ‡¶§‡¶æ‡¶´‡¶∏‡ßÄ‡¶∞‡ßá ‡¶ì‡¶∏‡¶Æ‡¶æ‡¶®‡ßÄ</div>
            <div>${ayah.translations.osmani}</div>
          `;
          trSec.appendChild(el);
        }

        if (selectedTranslators.includes('tawjih') && ayah.translations?.tawjih) {
          const el = document.createElement('div');
          el.className = 'translation-block';
          el.innerHTML = `
            <div class="translation-label">üìó ‡¶§‡¶æ‡¶ì‡¶Ø‡ßÄ‡¶π‡ßÅ‡¶≤ ‡¶ï‡ßÅ‡¶∞‡¶Ü‡¶®</div>
            <div>${ayah.translations.tawjih}</div>
          `;
          trSec.appendChild(el);
        }

        block.appendChild(trSec);
        container.appendChild(block);
      });

      readingBody.innerHTML = '';
      readingBody.appendChild(container);
      applyFontSizes();
    }

    surahSelect.addEventListener('change', async () => {
      const val = parseInt(surahSelect.value, 10);
      if (!val) {
        readingBody.innerHTML = `
          <div class="placeholder-box">
            <div class="placeholder-title">
              <span class="icon">üìñ</span>
              <span>‡¶∏‡ßÇ‡¶∞‡¶æ ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®</span>
            </div>
            <div>‡¶â‡¶™‡¶∞‡ßá‡¶∞ dropdown ‡¶•‡ßá‡¶ï‡ßá ‡¶ï‡ßã‡¶®‡ßã ‡¶∏‡ßÇ‡¶∞‡¶æ ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡¶≤‡ßá ‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶§‡¶æ‡¶∞ word-by-word + multi-translation ‡¶¶‡ßá‡¶ñ‡¶æ‡¶¨‡ßá‡•§</div>
          </div>
        `;
        readingSurahTitle.textContent = '‡¶ï‡ßã‡¶®‡ßã ‡¶∏‡ßÇ‡¶∞‡¶æ ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡¶æ ‡¶π‡ßü‡¶®‡¶ø';
        readingSurahMeta.textContent = '‡¶∏‡ßÇ‡¶∞‡¶æ ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡¶≤‡ßá ‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶®‡¶æ‡¶Æ, ‡¶ß‡¶∞‡¶®, ‡¶Ü‡¶Ø‡¶º‡¶æ‡¶§ ‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ ‡¶¶‡ßá‡¶ñ‡¶æ‡¶¨‡ßá‡•§';
        currentSurahData = null;
        return;
      }

      const loaded = await loadSurahJson(val);
      if (!loaded) {
        readingBody.innerHTML = `
          <div class="placeholder-box">
            <div class="placeholder-title">
              <span class="icon">‚ö†Ô∏è</span>
              <span>‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡¶§‡ßá ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ ‡¶π‡¶ö‡ßç‡¶õ‡ßá</span>
            </div>
            <div>‡¶è‡¶á ‡¶∏‡ßÇ‡¶∞‡¶æ‡¶∞ JSON ‡¶´‡¶æ‡¶á‡¶≤ ‡¶™‡¶æ‡¶ì‡ßü‡¶æ ‡¶Ø‡¶æ‡ßü‡¶®‡¶ø ‡¶Ö‡¶•‡¶¨‡¶æ ‡¶´‡¶∞‡¶Æ‡ßç‡¶Ø‡¶æ‡¶ü ‡¶≠‡ßÅ‡¶≤‡•§ ‡¶´‡¶æ‡¶á‡¶≤ ‡¶®‡¶æ‡¶Æ ‡¶ì JSON ‡¶Ø‡¶æ‡¶ö‡¶æ‡¶á ‡¶ï‡¶∞‡ßÅ‡¶®‡•§</div>
          </div>
        `;
        return;
      }

      currentSurahData = loaded;
      renderCurrentSurah();
    });

    document
      .getElementById('translatorToggles')
      .addEventListener('change', () => {
        if (currentSurahData) renderCurrentSurah();
      });
  </script>
</body>
</html>
