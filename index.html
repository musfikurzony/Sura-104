<!DOCTYPE html>
<html lang="bn">
<head>
  <meta charset="UTF-8" />
  <title>Al-Qur'an ‚Äî WBW Preview</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root {
      color-scheme: dark;
      --bg-main: #020617;
      --bg-elevated: #020617;
      --bg-soft: rgba(15, 23, 42, 0.96);
      --bg-softer: rgba(15, 23, 42, 0.92);
      --border-subtle: rgba(148, 163, 184, 0.45);
      --accent: #22c55e;
      --accent-soft: rgba(34, 197, 94, 0.18);
      --accent-strong: rgba(34, 197, 94, 0.5);
      --accent-text: #bbf7d0;
      --text-main: #e5e7eb;
      --text-soft: #9ca3af;
      --text-softer: #6b7280;
      --danger: #f97373;
      --pill-bg: rgba(15, 23, 42, 0.96);
      --pill-border: rgba(148, 163, 184, 0.55);
      --shadow-soft: 0 18px 45px rgba(15, 23, 42, 0.95);
      --shadow-strong: 0 26px 65px rgba(0, 0, 0, 0.95);
      --radius-lg: 18px;
      --radius-xl: 28px;
      --radius-pill: 999px;
      --transition-fast: 0.18s ease-out;
      --transition-med: 0.25s ease-out;
    }

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      min-height: 100vh;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
        sans-serif;
      background: radial-gradient(circle at top left, #0b1120, #020617 55%);
      color: var(--text-main);
      -webkit-font-smoothing: antialiased;
    }

    .app-shell {
      max-width: 960px;
      margin: 0 auto;
      padding: 0 1rem 1.5rem;
    }

    /* Fixed top bar */
    .top-bar {
      position: sticky;
      top: 0;
      z-index: 40;
      display: flex;
      align-items: center;
      gap: 0.5rem;
      padding: 0.55rem 0.75rem;
      margin: 0 -0.5rem 0.65rem;
      background: linear-gradient(
        to bottom,
        rgba(2, 6, 23, 0.96),
        rgba(2, 6, 23, 0.98)
      );
      backdrop-filter: blur(16px);
      border-bottom: 1px solid rgba(30, 64, 175, 0.4);
    }

    .icon-button {
      border-radius: var(--radius-pill);
      border: 1px solid rgba(148, 163, 184, 0.6);
      background: radial-gradient(circle at 20% 0, #020617, #020617 72%);
      color: var(--text-soft);
      padding: 0.4rem 0.75rem;
      font-size: 0.9rem;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 0.3rem;
      transition: all var(--transition-fast);
      box-shadow: 0 8px 20px rgba(15, 23, 42, 0.8);
    }

    .icon-button:hover {
      border-color: rgba(248, 250, 252, 0.85);
      color: #e5e7eb;
      transform: translateY(-1px);
      box-shadow: 0 16px 32px rgba(15, 23, 42, 0.95);
    }

    .icon-button:active {
      transform: translateY(0);
      box-shadow: 0 10px 20px rgba(15, 23, 42, 0.9);
    }

    .app-title-block {
      display: flex;
      flex-direction: column;
      gap: 0.08rem;
      min-width: 0;
    }

    .app-title {
      font-size: 1.05rem;
      font-weight: 600;
      letter-spacing: 0.02em;
      color: #e5e7eb;
    }

    .app-subtitle {
      font-size: 0.72rem;
      color: var(--text-softer);
      white-space: nowrap;
    }

    .top-mode-switch {
      display: flex;
      gap: 0.25rem;
      margin: 0 0.3rem;
    }

    .mode-btn-top {
      border: 1px solid rgba(148, 163, 184, 0.5);
      background: radial-gradient(circle at 20% 0, #020617, #020617 70%);
      border-radius: 999px;
      width: 30px;
      height: 30px;
      font-size: 0.9rem;
      display: flex;
      align-items: center;
      justify-content: center;
      color: var(--text-soft);
      cursor: pointer;
      transition: all var(--transition-fast);
    }

    .mode-btn-top.active {
      background: linear-gradient(135deg, #22c55e, #16a34a);
      color: #022c22;
      box-shadow: 0 10px 22px rgba(22, 163, 74, 0.6);
      border-color: rgba(248, 250, 252, 0.9);
    }

    .current-surah-label {
      display: flex;
      flex-direction: column;
      gap: 0.1rem;
      margin-left: 0.4rem;
      min-width: 0;
    }

    .current-surah-ar {
      font-size: 0.88rem;
      color: var(--accent-text);
      text-align: right;
      font-family: "Scheherazade New", "Amiri", system-ui, sans-serif;
      direction: rtl;
    }

    .current-surah-bn {
      font-size: 0.72rem;
      color: var(--text-softer);
      text-align: right;
    }

    .top-actions {
      margin-left: auto;
      display: flex;
      align-items: center;
      gap: 0.25rem;
    }

    .top-actions .icon-button {
      padding: 0.3rem 0.6rem;
      font-size: 0.85rem;
      box-shadow: 0 8px 18px rgba(15, 23, 42, 0.85);
    }

    main {
      padding-top: 0.1rem;
    }

    .view-card {
      background: radial-gradient(
          circle at top left,
          rgba(56, 189, 248, 0.08),
          transparent 55%
        ),
        radial-gradient(circle at top right, rgba(34, 197, 94, 0.12), transparent
              60%),
        radial-gradient(circle at bottom, rgba(15, 23, 42, 0.9), #020617 70%);
      border-radius: 26px;
      padding: 0.9rem;
      border: 1px solid rgba(148, 163, 184, 0.6);
      box-shadow: var(--shadow-soft);
    }

    .view-card-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 0.75rem;
      margin-bottom: 0.5rem;
    }

    .view-card-title-block {
      display: flex;
      flex-direction: column;
      gap: 0.2rem;
    }

    .view-card-title {
      font-size: 1rem;
      font-weight: 600;
      letter-spacing: 0.06em;
      text-transform: uppercase;
      color: #e5e7eb;
    }

    .view-card-subtitle {
      font-size: 0.8rem;
      color: var(--text-soft);
    }

    .badge {
      display: inline-flex;
      align-items: center;
      gap: 0.2rem;
      padding: 0.2rem 0.5rem;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.55);
      background: rgba(15, 23, 42, 0.9);
      box-shadow: 0 10px 22px rgba(15, 23, 42, 0.9);
      font-size: 0.68rem;
      color: var(--text-soft);
    }

    .badge-dot {
      width: 6px;
      height: 6px;
      border-radius: 999px;
      background: #22c55e;
      box-shadow: 0 0 0 4px rgba(34, 197, 94, 0.35);
    }

    .home-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(210px, 1fr));
      gap: 0.6rem;
    }

    .surah-card {
      border-radius: 22px;
      padding: 0.9rem 0.9rem 0.8rem;
      background: linear-gradient(
        135deg,
        rgba(15, 23, 42, 0.98),
        rgba(15, 23, 42, 0.96)
      );
      border: 1px solid rgba(148, 163, 184, 0.5);
      box-shadow: 0 18px 36px rgba(15, 23, 42, 0.95);
      cursor: pointer;
      display: flex;
      flex-direction: column;
      gap: 0.6rem;
      transition: transform var(--transition-med), box-shadow var(--transition-med),
        border-color var(--transition-fast), background var(--transition-fast),
        outline var(--transition-fast);
      position: relative;
      overflow: hidden;
    }

    .surah-card::before {
      content: "";
      position: absolute;
      inset: 0;
      background: radial-gradient(
        circle at 0 0,
        rgba(34, 197, 94, 0.16),
        transparent 55%
      );
      opacity: 0;
      transition: opacity var(--transition-med);
      pointer-events: none;
    }

    .surah-card:hover {
      transform: translateY(-3px) scale(1.01);
      box-shadow: var(--shadow-strong);
      border-color: rgba(248, 250, 252, 0.85);
      background: linear-gradient(
        135deg,
        rgba(15, 23, 42, 0.98),
        rgba(22, 101, 52, 0.88)
      );
    }

    .surah-card:hover::before {
      opacity: 1;
    }

    .surah-card-header {
      display: flex;
      justify-content: space-between;
      gap: 0.4rem;
      align-items: flex-start;
    }

    .surah-left {
      display: flex;
      flex-direction: column;
      gap: 0.15rem;
      max-width: 70%;
    }

    .surah-number {
      font-size: 0.72rem;
      color: var(--text-softer);
      letter-spacing: 0.16em;
      text-transform: uppercase;
    }

    .surah-name-bn {
      font-size: 0.9rem;
      font-weight: 600;
      color: #e5e7eb;
    }

    .surah-meta {
      font-size: 0.72rem;
      color: var(--text-soft);
    }

    .surah-right {
      text-align: right;
      display: flex;
      flex-direction: column;
      align-items: flex-end;
      gap: 0.2rem;
    }

    .surah-name-ar {
      font-family: "Scheherazade New", "Amiri", system-ui, sans-serif;
      font-size: 1.25rem;
      direction: rtl;
      color: var(--accent-text);
      text-shadow: 0 0 18px rgba(52, 211, 153, 0.4);
    }

    .surah-label {
      font-size: 0.7rem;
      color: var(--text-softer);
    }

    .chip-row {
      display: flex;
      flex-wrap: wrap;
      gap: 0.35rem;
      margin-top: 0.1rem;
    }

    .chip {
      font-size: 0.68rem;
      padding: 0.18rem 0.5rem;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.55);
      color: var(--text-soft);
      background: rgba(15, 23, 42, 0.96);
      display: inline-flex;
      align-items: center;
      gap: 0.25rem;
    }

    .chip-dot {
      width: 6px;
      height: 6px;
      border-radius: 999px;
      background: rgba(52, 211, 153, 0.8);
    }

    @media (max-width: 640px) {
      .top-bar {
        padding-inline: 0.5rem;
      }

      .app-title {
        font-size: 0.96rem;
      }

      .current-surah-ar {
        font-size: 0.82rem;
      }

      .current-surah-bn {
        font-size: 0.7rem;
      }

      .view-card {
        padding: 0.8rem 0.75rem;
      }

      .surah-card {
        padding: 0.85rem;
      }

      .surah-name-ar {
        font-size: 1.1rem;
      }
    }

    #surahView {
      margin-top: 0.75rem;
    }

    .ayah-container {
      display: flex;
      flex-direction: column;
      gap: 0.6rem;
    }

    .ayah-card {
      border-radius: 22px;
      padding: 0.85rem 0.9rem;
      background: linear-gradient(
        145deg,
        rgba(15, 23, 42, 0.98),
        rgba(15, 23, 42, 0.96)
      );
      border: 1px solid rgba(148, 163, 184, 0.55);
      box-shadow: 0 18px 40px rgba(15, 23, 42, 0.95);
    }

    .ayah-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 0.25rem;
      gap: 0.5rem;
    }

    .ayah-number-pill {
      border-radius: 999px;
      padding: 0.12rem 0.6rem;
      font-size: 0.75rem;
      border: 1px solid rgba(148, 163, 184, 0.55);
      color: var(--text-soft);
      background: rgba(15, 23, 42, 0.96);
      display: inline-flex;
      align-items: center;
      gap: 0.3rem;
    }

    .ayah-number-pill span.dot {
      width: 6px;
      height: 6px;
      border-radius: 999px;
      background: rgba(52, 211, 153, 0.85);
    }

    .ayah-arabic {
      font-family: "Scheherazade New", "Amiri", system-ui, sans-serif;
      font-size: 2rem;
      line-height: 1.6;
      text-align: right;
      direction: rtl;
      color: #e5e7eb;
      text-shadow: 0 0 18px rgba(15, 118, 110, 0.6);
      margin-bottom: 0.4rem;
    }

    .ayah-bangla {
      font-size: 1rem;
      line-height: 1.7;
      color: var(--text-main);
      margin-top: 0.25rem;
    }

    .wbw-grid {
      display: flex;
      flex-wrap: wrap;
      gap: 0.25rem;
      margin-top: 0.6rem;
      direction: rtl;
      justify-content: flex-start;
    }

    .word-pill {
      min-width: 0;
      padding: 0.32rem 0.6rem 0.3rem;
      border-radius: 14px;
      border: 1px solid var(--pill-border);
      background: var(--pill-bg);
      box-shadow: 0 14px 30px rgba(15, 23, 42, 0.9);
      cursor: pointer;
      transition: all var(--transition-fast);
      position: relative;
      display: inline-flex;
      flex-direction: column;
      align-items: stretch;
      gap: 0.1rem;
      max-width: 40%;
    }

    .word-pill:hover {
      border-color: rgba(248, 250, 252, 0.9);
      background: radial-gradient(
          circle at 0 0,
          rgba(34, 197, 94, 0.2),
          transparent 55%
        ),
        var(--pill-bg);
      transform: translateY(-1px);
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.95);
    }

    .word-pill-ar {
      font-family: "Scheherazade New", "Amiri", system-ui, sans-serif;
      font-size: 1.35rem;
      line-height: 1.8;
      text-align: left;
      direction: rtl;
      color: #e5e7eb;
    }

    .word-pill-bn {
      font-size: 0.78rem;
      color: var(--accent-text);
      text-align: left;
      direction: ltr;
    }

    @media (max-width: 640px) {
      .word-pill {
        max-width: 100%;
        padding-inline: 0.55rem;
      }
      .word-pill-ar {
        font-size: 1.25rem;
      }
      .word-pill-bn {
        font-size: 0.8rem;
      }
    }

    .word-bar {
      position: fixed;
      left: 0;
      right: 0;
      bottom: 0;
      z-index: 45;
      transform: translateY(100%);
      opacity: 0;
      pointer-events: none;
      transition: transform var(--transition-med), opacity var(--transition-med);
    }

    .word-bar.visible {
      transform: translateY(0);
      opacity: 1;
      pointer-events: auto;
    }

    .word-bar-inner {
      margin: 0 auto;
      max-width: 960px;
      padding: 0.6rem 0.85rem 0.85rem;
      background: linear-gradient(
        to top,
        rgba(15, 23, 42, 0.98),
        rgba(15, 23, 42, 0.98)
      );
      border-radius: 18px 18px 0 0;
      border-top: 1px solid rgba(148, 163, 184, 0.65);
      box-shadow: 0 -16px 32px rgba(0, 0, 0, 0.95);
    }

    .word-bar-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 0.4rem;
      gap: 0.5rem;
    }

    .word-bar-title {
      font-size: 0.85rem;
      color: var(--text-soft);
      display: flex;
      align-items: center;
      gap: 0.35rem;
    }

    .word-bar-title-tag {
      font-size: 0.7rem;
      padding: 0.08rem 0.5rem;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.7);
      color: var(--accent-text);
      background: rgba(15, 23, 42, 0.98);
    }

    .word-bar-close {
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.7);
      background: rgba(15, 23, 42, 0.98);
      color: var(--text-soft);
      padding: 0.2rem 0.55rem;
      font-size: 0.8rem;
      display: inline-flex;
      align-items: center;
      gap: 0.25rem;
      cursor: pointer;
      transition: all var(--transition-fast);
    }

    .word-bar-close:hover {
      border-color: rgba(248, 250, 252, 0.9);
      color: #e5e7eb;
      box-shadow: 0 6px 18px rgba(15, 23, 42, 0.9);
      transform: translateY(-1px);
    }

    .word-bar-content {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      gap: 0.75rem;
    }

    .word-bar-main {
      flex: 1 1 auto;
      display: flex;
      flex-direction: column;
      gap: 0.25rem;
    }

    .word-bar-ar {
      font-family: "Scheherazade New", "Amiri", system-ui, sans-serif;
      font-size: 1.5rem;
      line-height: 1.8;
      text-align: left;
      direction: rtl;
      color: #e5e7eb;
    }

    .word-bar-bn {
      font-size: 0.9rem;
      color: var(--accent-text);
      text-align: left;
    }

    .word-bar-actions {
      flex: 0 0 auto;
      display: flex;
      flex-direction: column;
      gap: 0.4rem;
      align-items: flex-end;
    }

    .grammar-open-btn {
      border-radius: 999px;
      padding: 0.32rem 0.7rem;
      font-size: 0.8rem;
      border: 1px solid rgba(52, 211, 153, 0.8);
      color: #ecfdf5;
      background: linear-gradient(135deg, #22c55e, #16a34a);
      cursor: pointer;
      box-shadow: 0 14px 30px rgba(21, 128, 61, 0.9);
      display: inline-flex;
      align-items: center;
      gap: 0.3rem;
      transition: all var(--transition-fast);
      white-space: nowrap;
    }

    .grammar-open-btn span {
      font-size: 1rem;
    }

    .grammar-open-btn:hover {
      transform: translateY(-1px);
      box-shadow: 0 20px 40px rgba(22, 163, 74, 0.95);
    }

    .grammar-open-btn:active {
      transform: translateY(0);
      box-shadow: 0 16px 30px rgba(22, 163, 74, 0.9);
    }

    @media (max-width: 640px) {
      .word-bar-inner {
        border-radius: 18px 18px 0 0;
        padding-inline: 0.8rem;
      }

      .word-bar-content {
        flex-direction: column;
        align-items: flex-start;
      }

      .word-bar-actions {
        flex-direction: row;
        width: 100%;
        justify-content: space-between;
        align-items: center;
      }

      .word-bar-ar {
        font-size: 1.4rem;
      }

      .word-bar-bn {
        font-size: 0.9rem;
      }
    }

    .modal-backdrop {
      position: fixed;
      inset: 0;
      background: rgba(15, 23, 42, 0.86);
      backdrop-filter: blur(14px);
      z-index: 50;
      display: none;
      align-items: center;
      justify-content: center;
      padding: 1rem;
    }

    .modal-backdrop.visible {
      display: flex;
    }

    .modal {
      width: min(640px, 100%);
      max-height: min(480px, 80vh);
      background: radial-gradient(
          circle at top,
          rgba(34, 197, 94, 0.18),
          transparent 58%
        ),
        rgba(15, 23, 42, 0.98);
      border-radius: 24px;
      border: 1px solid rgba(148, 163, 184, 0.75);
      box-shadow: 0 26px 60px rgba(0, 0, 0, 0.95);
      padding: 0.9rem 1rem 0.85rem;
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
    }

    .modal-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 0.75rem;
    }

    .modal-title {
      font-size: 0.9rem;
      color: var(--text-soft);
      display: flex;
      align-items: center;
      gap: 0.4rem;
    }

    .modal-title-tag {
      font-size: 0.7rem;
      padding: 0.08rem 0.5rem;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.75);
      color: var(--accent-text);
      background: rgba(15, 23, 42, 0.98);
    }

    .modal-close-btn {
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.75);
      padding: 0.2rem 0.6rem;
      font-size: 0.8rem;
      background: rgba(15, 23, 42, 0.98);
      color: var(--text-soft);
      display: inline-flex;
      align-items: center;
      gap: 0.3rem;
      cursor: pointer;
      transition: all var(--transition-fast);
    }

    .modal-close-btn:hover {
      border-color: rgba(248, 250, 252, 0.95);
      color: #e5e7eb;
      box-shadow: 0 10px 26px rgba(15, 23, 42, 0.95);
      transform: translateY(-1px);
    }

    .modal-body {
      border-radius: 18px;
      border: 1px solid rgba(148, 163, 184, 0.55);
      background: rgba(15, 23, 42, 0.96);
      padding: 0.7rem 0.8rem;
      font-size: 1.02rem;
      line-height: 1.7;
      color: var(--text-main);
      overflow: auto;
    }

    .modal-ar-header {
      font-family: "Scheherazade New", "Amiri", system-ui, sans-serif;
      font-size: 1.4rem;
      text-align: left;
      direction: rtl;
      color: #e5e7eb;
      margin-bottom: 0.25rem;
    }

    .modal-bn-meaning {
      font-size: 0.88rem;
      color: var(--accent-text);
      margin-bottom: 0.35rem;
      text-align: left;
    }

    .settings-backdrop {
      position: fixed;
      inset: 0;
      background: rgba(2, 6, 23, 0.86);
      backdrop-filter: blur(14px);
      z-index: 55;
      display: none;
      align-items: center;
      justify-content: center;
      padding: 1rem;
    }

    .settings-backdrop.visible {
      display: flex;
    }

    .settings-panel {
      width: min(480px, 100%);
      background: radial-gradient(
          circle at top,
          rgba(56, 189, 248, 0.15),
          transparent 55%
        ),
        rgba(15, 23, 42, 0.98);
      border-radius: 24px;
      border: 1px solid rgba(148, 163, 184, 0.8);
      box-shadow: 0 28px 70px rgba(0, 0, 0, 0.95);
      padding: 0.95rem 1rem 0.9rem;
      display: flex;
      flex-direction: column;
      gap: 0.7rem;
    }

    .settings-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 0.75rem;
    }

    .settings-title-block {
      display: flex;
      flex-direction: column;
      gap: 0.15rem;
    }

    .settings-title {
      font-size: 1rem;
      font-weight: 600;
    }

    .settings-subtitle {
      font-size: 0.78rem;
      color: var(--text-soft);
    }

    .settings-close-btn {
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.75);
      padding: 0.25rem 0.65rem;
      font-size: 0.8rem;
      background: rgba(15, 23, 42, 0.98);
      color: var(--text-soft);
      display: inline-flex;
      align-items: center;
      gap: 0.3rem;
      cursor: pointer;
      transition: all var(--transition-fast);
    }

    .settings-close-btn:hover {
      border-color: rgba(248, 250, 252, 0.95);
      color: #e5e7eb;
      box-shadow: 0 10px 26px rgba(15, 23, 42, 0.95);
      transform: translateY(-1px);
    }

    .settings-body {
      border-radius: 18px;
      border: 1px solid rgba(148, 163, 184, 0.55);
      background: rgba(15, 23, 42, 0.96);
      padding: 0.7rem 0.85rem 0.8rem;
      display: flex;
      flex-direction: column;
      gap: 0.6rem;
      max-height: min(420px, 70vh);
      overflow: auto;
    }

    .settings-section-title {
      font-size: 0.85rem;
      color: var(--text-soft);
      margin-bottom: 0.25rem;
    }

    .font-slider-row {
      display: grid;
      grid-template-columns: 1.2fr 1fr;
      gap: 0.5rem;
      align-items: center;
    }

    .font-slider-label {
      display: flex;
      flex-direction: column;
      gap: 0.1rem;
      font-size: 0.8rem;
      color: var(--text-main);
    }

    .font-slider-label span.hint {
      font-size: 0.72rem;
      color: var(--text-soft);
    }

    .font-slider-control {
      display: flex;
      flex-direction: column;
      gap: 0.1rem;
      font-size: 0.78rem;
      color: var(--accent-text);
    }

    .font-slider-control input[type="range"] {
      width: 100%;
    }

    .toggle-row {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 0.75rem;
      padding: 0.45rem 0.55rem;
      border-radius: 14px;
      background: rgba(15, 23, 42, 0.98);
      border: 1px solid rgba(51, 65, 85, 0.9);
    }

    .toggle-info {
      display: flex;
      flex-direction: column;
      gap: 0.1rem;
      font-size: 0.8rem;
    }

    .toggle-info .label {
      color: var(--text-main);
    }

    .toggle-info .hint {
      font-size: 0.72rem;
      color: var(--text-soft);
    }

    .toggle-switch {
      position: relative;
      width: 40px;
      height: 22px;
    }

    .toggle-switch input {
      opacity: 0;
      width: 0;
      height: 0;
    }

    .slider {
      position: absolute;
      cursor: pointer;
      inset: 0;
      background-color: rgba(15, 23, 42, 0.9);
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.8);
      transition: background-color 0.25s ease-out, border-color 0.25s ease-out;
    }

    .slider::before {
      position: absolute;
      content: "";
      height: 16px;
      width: 16px;
      left: 3px;
      bottom: 2px;
      background-color: #e5e7eb;
      border-radius: 50%;
      transition: transform 0.25s ease-out, background-color 0.25s ease-out,
        box-shadow 0.25s ease-out;
      box-shadow: 0 4px 12px rgba(15, 23, 42, 0.9);
    }

    .toggle-switch input:checked + .slider {
      background: linear-gradient(135deg, #22c55e, #16a34a);
      border-color: rgba(34, 197, 94, 0.9);
    }

    .toggle-switch input:checked + .slider::before {
      transform: translateX(16px);
      background-color: #f9fafb;
      box-shadow: 0 6px 16px rgba(22, 163, 74, 0.95);
    }

    .mode-pill-row {
      display: flex;
      flex-wrap: wrap;
      gap: 0.45rem;
    }

    .mode-pill {
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.7);
      background: rgba(15, 23, 42, 0.98);
      padding: 0.18rem 0.6rem;
      font-size: 0.78rem;
      color: var(--text-soft);
      display: inline-flex;
      align-items: center;
      gap: 0.35rem;
    }

    .mode-pill input {
      accent-color: #22c55e;
    }

    @media (max-width: 480px) {
      .settings-panel {
        padding-inline: 0.7rem;
      }
      .settings-body {
        padding-inline: 0.7rem;
      }
    }
  </style>
</head>
<body>
  <div class="app-shell">
    <header class="top-bar">
      <button class="icon-button" id="backToHomeTop" title="‡¶∏‡ßÇ‡¶∞‡¶æ ‡¶§‡¶æ‡¶≤‡¶ø‡¶ï‡¶æ‡ßü ‡¶´‡¶ø‡¶∞‡ßÅ‡¶®">
        ‚Üê
      </button>

      <div class="app-title-block">
        <div class="app-title">Al-Qur‚Äôan</div>
        <div class="app-subtitle">
          <span id="topModeLabel">‡¶§‡ßá‡¶≤‡¶æ‡¶ì‡¶Ø‡¶º‡¶æ‡¶§ ‡¶Æ‡ßã‡¶°</span>
        </div>
      </div>

      <div class="top-mode-switch">
        <button
          class="mode-btn-top active"
          id="modeTelawatBtnTop"
          data-mode="telawat"
        >
          üìñ
        </button>
        <button
          class="mode-btn-top"
          id="modeWbwBtnTop"
          data-mode="wbw"
        >
          üîç
        </button>
      </div>

      <div class="current-surah-label" id="currentSurahLabel">
        <div class="current-surah-ar" id="currentSurahAr">‡¶∏‡ßÅ‡¶∞‡¶æ ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®</div>
        <div class="current-surah-bn" id="currentSurahBn">
          ‡¶π‡ßã‡¶Æ ‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶ø‡¶® ‡¶•‡ßá‡¶ï‡ßá ‡¶Ø‡ßá ‡¶ï‡ßã‡¶®‡ßã ‡¶∏‡ßÇ‡¶∞‡¶æ‡ßü ‡¶ü‡ßç‡¶Ø‡¶æ‡¶™ ‡¶ï‡¶∞‡ßÅ‡¶®
        </div>
      </div>

      <div class="top-actions">
        <button class="icon-button" id="openSettingsBtn" title="Settings">
          ‚öô
        </button>
      </div>
    </header>

    <main>
      <section id="homeView" class="view-card">
        <div class="view-card-header">
          <div class="view-card-title-block">
            <div class="view-card-title">Al-Qur‚Äôan</div>
            <div class="view-card-subtitle">
              Arabic ¬∑ ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ ‡¶∂‡¶¨‡ßç‡¶¶‡ßá‚Äì‡¶∂‡¶¨‡ßç‡¶¶‡ßá ¬∑ Grammar notes (preview)
            </div>
          </div>
          <span class="badge">
            <span class="badge-dot"></span>
            Proto-type ¬∑ JSON based
          </span>
        </div>

        <div class="home-grid" id="surahList"></div>
      </section>

      <section id="surahView" style="display: none;">
        <div id="ayahContainer" class="ayah-container"></div>
      </section>
    </main>
  </div>

  <div class="word-bar" id="wordBar">
    <div class="word-bar-inner">
      <div class="word-bar-header">
        <div class="word-bar-title">
          <span class="word-bar-title-tag">‡¶∂‡¶¨‡ßç‡¶¶‡ßá‡¶∞ ‡¶Ö‡¶∞‡ßç‡¶•</span>
          <span id="wordBarAyahInfo"></span>
        </div>
        <button class="word-bar-close" id="closeWordBarBtn">
          ‚úï ‡¶¨‡¶®‡ßç‡¶ß ‡¶ï‡¶∞‡ßÅ‡¶®
        </button>
      </div>
      <div class="word-bar-content">
        <div class="word-bar-main">
          <div class="word-bar-ar" id="wordBarAr"></div>
          <div class="word-bar-bn" id="wordBarBn"></div>
        </div>
        <div class="word-bar-actions">
          <button class="grammar-open-btn" id="openGrammarBtn">
            <span>üìö</span> ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶∞‡¶£ ‡¶®‡ßã‡¶ü
          </button>
        </div>
      </div>
    </div>
  </div>

  <div class="modal-backdrop" id="grammarModalBackdrop">
    <div class="modal">
      <div class="modal-header">
        <div class="modal-title">
          <span class="modal-title-tag">Grammar notes</span>
          <span id="grammarModalAyahInfo"></span>
        </div>
        <button class="modal-close-btn" id="closeGrammarModalBtn">
          ‚úï ‡¶¨‡¶®‡ßç‡¶ß
        </button>
      </div>
      <div class="modal-body">
        <div class="modal-ar-header" id="grammarModalAr"></div>
        <div class="modal-bn-meaning" id="grammarModalBn"></div>
        <div id="grammarModalText"></div>
      </div>
    </div>
  </div>

  <div class="settings-backdrop" id="settingsBackdrop">
    <div class="settings-panel">
      <div class="settings-header">
        <div class="settings-title-block">
          <div class="settings-title">Display Settings</div>
          <div class="settings-subtitle">
            ‡¶´‡¶®‡ßç‡¶ü ‡¶∏‡¶æ‡¶á‡¶ú ‡¶ì ‡¶≠‡¶ø‡¶â ‡¶ï‡¶æ‡¶∏‡ßç‡¶ü‡¶Æ‡¶æ‡¶á‡¶ú ‡¶ï‡¶∞‡ßÅ‡¶®
          </div>
        </div>
        <button class="settings-close-btn" id="closeSettingsBtn">
          ‚úï ‡¶¨‡¶®‡ßç‡¶ß
        </button>
      </div>
      <div class="settings-body">
        <div>
          <div class="settings-section-title">‡¶´‡¶®‡ßç‡¶ü ‡¶∏‡¶æ‡¶á‡¶ú</div>

          <div class="font-slider-row">
            <div class="font-slider-label">
              <span>‡¶Ü‡¶∞‡¶¨‡¶ø ‡¶´‡¶®‡ßç‡¶ü</span>
              <span class="hint">‡¶§‡ßá‡¶≤‡¶æ‡¶ì‡¶Ø‡¶º‡¶æ‡¶§ ‡¶ì ‡¶∂‡¶¨‡ßç‡¶¶‡ßá‚Äì‡¶∂‡¶¨‡ßç‡¶¶‡ßá</span>
            </div>
            <div class="font-slider-control">
              <input
                type="range"
                id="arabicFontSlider"
                min="1.6"
                max="2.4"
                step="0.02"
              />
              <span id="arabicFontValue">2.00rem</span>
            </div>
          </div>

          <div class="font-slider-row">
            <div class="font-slider-label">
              <span>‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ ‡¶´‡¶®‡ßç‡¶ü</span>
              <span class="hint">‡¶Ö‡¶®‡ßÅ‡¶¨‡¶æ‡¶¶ ‡¶ì ‡¶∂‡¶¨‡ßç‡¶¶‡ßá‡¶∞ ‡¶Ö‡¶∞‡ßç‡¶•</span>
            </div>
            <div class="font-slider-control">
              <input
                type="range"
                id="banglaFontSlider"
                min="0.9"
                max="1.4"
                step="0.02"
              />
              <span id="banglaFontValue">1.00rem</span>
            </div>
          </div>

          <div class="font-slider-row">
            <div class="font-slider-label">
              <span>‡¶®‡ßã‡¶ü ‡¶´‡¶®‡ßç‡¶ü</span>
              <span class="hint">‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶∞‡¶£ ‡¶®‡ßã‡¶ü</span>
            </div>
            <div class="font-slider-control">
              <input
                type="range"
                id="notesFontSlider"
                min="0.9"
                max="1.2"
                step="0.02"
              />
              <span id="notesFontValue">1.02rem</span>
            </div>
          </div>
        </div>

        <div>
          <div class="settings-section-title">‡¶Ö‡¶®‡ßÅ‡¶¨‡¶æ‡¶¶ ‡¶Ö‡¶™‡¶∂‡¶®</div>
          <div class="mode-pill-row">
            <label class="mode-pill">
              <input type="checkbox" id="toggleBanglaTranslation" checked />
              <span>‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ ‡¶Ö‡¶®‡ßÅ‡¶¨‡¶æ‡¶¶</span>
            </label>
            <label class="mode-pill">
              <input type="checkbox" id="toggleWbw" checked />
              <span>‡¶∂‡¶¨‡ßç‡¶¶‡ßá‚Äì‡¶∂‡¶¨‡ßç‡¶¶‡ßá (tap)</span>
            </label>
            <label class="mode-pill">
              <input type="checkbox" id="toggleGrammar" checked />
              <span>‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶∞‡¶£ ‡¶®‡ßã‡¶ü ‡¶¨‡¶æ‡¶ü‡¶®</span>
            </label>
          </div>
        </div>

        <div>
          <div class="settings-section-title">‡¶Ö‡¶§‡¶ø‡¶∞‡¶ø‡¶ï‡ßç‡¶§</div>
          <div class="toggle-row">
            <div class="toggle-info">
              <span class="label">‡¶Ü‡¶∞‡¶¨‡¶ø ‡¶π‡¶æ‡¶á‡¶≤‡¶æ‡¶á‡¶ü</span>
              <span class="hint">
                ‡¶∂‡¶¨‡ßç‡¶¶‡ßá‚Äì‡¶∂‡¶¨‡ßç‡¶¶‡ßá ‡¶Æ‡ßã‡¶°‡ßá ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶ø‡¶§ ‡¶∂‡¶¨‡ßç‡¶¶ ‡¶π‡¶æ‡¶á‡¶≤‡¶æ‡¶á‡¶ü ‡¶π‡¶¨‡ßá
              </span>
            </div>
            <label class="toggle-switch">
              <input type="checkbox" id="toggleWordHighlight" checked />
              <span class="slider"></span>
            </label>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    const arabicFontSlider = document.getElementById("arabicFontSlider");
    const banglaFontSlider = document.getElementById("banglaFontSlider");
    const notesFontSlider = document.getElementById("notesFontSlider");
    const arabicFontValue = document.getElementById("arabicFontValue");
    const banglaFontValue = document.getElementById("banglaFontValue");
    const notesFontValue = document.getElementById("notesFontValue");

    const toggleBanglaTranslation = document.getElementById(
      "toggleBanglaTranslation"
    );
    const toggleWbw = document.getElementById("toggleWbw");
    const toggleGrammar = document.getElementById("toggleGrammar");
    const toggleWordHighlight = document.getElementById("toggleWordHighlight");

    const openSettingsBtn = document.getElementById("openSettingsBtn");
    const settingsBackdrop = document.getElementById("settingsBackdrop");
    const closeSettingsBtn = document.getElementById("closeSettingsBtn");

    const homeView = document.getElementById("homeView");
    const surahView = document.getElementById("surahView");
    const surahList = document.getElementById("surahList");
    const ayahContainer = document.getElementById("ayahContainer");

    const currentSurahAr = document.getElementById("currentSurahAr");
    const currentSurahBn = document.getElementById("currentSurahBn");

    const modeTelawatBtnTop = document.getElementById("modeTelawatBtnTop");
    const modeWbwBtnTop = document.getElementById("modeWbwBtnTop");
    const topModeLabel = document.getElementById("topModeLabel");
    const backToHomeTop = document.getElementById("backToHomeTop");

    const wordBar = document.getElementById("wordBar");
    const wordBarAr = document.getElementById("wordBarAr");
    const wordBarBn = document.getElementById("wordBarBn");
    const wordBarAyahInfo = document.getElementById("wordBarAyahInfo");
    const closeWordBarBtn = document.getElementById("closeWordBarBtn");
    const openGrammarBtn = document.getElementById("openGrammarBtn");

    const grammarModalBackdrop = document.getElementById(
      "grammarModalBackdrop"
    );
    const grammarModalAr = document.getElementById("grammarModalAr");
    const grammarModalBn = document.getElementById("grammarModalBn");
    const grammarModalText = document.getElementById("grammarModalText");
    const grammarModalAyahInfo = document.getElementById(
      "grammarModalAyahInfo"
    );
    const closeGrammarModalBtn = document.getElementById(
      "closeGrammarModalBtn"
    );

    let currentMode = "telawat";
    let currentSurah = null;
    let currentWordContext = null;
    let settings = {
      arabicFontRem: 2.0,
      banglaFontRem: 1.0,
      notesFontRem: 1.02,
    };

    function applyFontSettings() {
      document.documentElement.style.setProperty(
        "--ayah-ar-font-size",
        settings.arabicFontRem + "rem"
      );
      document.documentElement.style.setProperty(
        "--ayah-bn-font-size",
        settings.banglaFontRem + "rem"
      );
      document.documentElement.style.setProperty(
        "--notes-font-size",
        settings.notesFontRem + "rem"
      );

      document.querySelectorAll(".ayah-arabic").forEach((el) => {
        el.style.fontSize = settings.arabicFontRem + "rem";
      });
      document.querySelectorAll(".ayah-bangla").forEach((el) => {
        el.style.fontSize = settings.banglaFontRem + "rem";
      });
      document.querySelectorAll(".word-pill-ar").forEach((el) => {
        el.style.fontSize = Math.max(
          1.1,
          settings.arabicFontRem - 0.6
        ).toFixed(2) + "rem";
      });
      document.querySelectorAll(".word-pill-bn").forEach((el) => {
        el.style.fontSize = (settings.banglaFontRem - 0.2).toFixed(2) + "rem";
      });

      wordBarAr.style.fontSize = Math.max(
        1.2,
        settings.arabicFontRem - 0.4
      ).toFixed(2) + "rem";
      wordBarBn.style.fontSize = settings.banglaFontRem.toFixed(2) + "rem";
      grammarModalText.style.fontSize =
        settings.notesFontRem.toFixed(2) + "rem";
    }

    function initFontSliders() {
      arabicFontSlider.value = settings.arabicFontRem;
      banglaFontSlider.value = settings.banglaFontRem;
      notesFontSlider.value = settings.notesFontRem;

      arabicFontValue.textContent = settings.arabicFontRem.toFixed(2) + "rem";
      banglaFontValue.textContent = settings.banglaFontRem.toFixed(2) + "rem";
      notesFontValue.textContent = settings.notesFontRem.toFixed(2) + "rem";

      arabicFontSlider.addEventListener("input", () => {
        settings.arabicFontRem = parseFloat(arabicFontSlider.value);
        arabicFontValue.textContent =
          settings.arabicFontRem.toFixed(2) + "rem";
        applyFontSettings();
      });

      banglaFontSlider.addEventListener("input", () => {
        settings.banglaFontRem = parseFloat(banglaFontSlider.value);
        banglaFontValue.textContent =
          settings.banglaFontRem.toFixed(2) + "rem";
        applyFontSettings();
      });

      notesFontSlider.addEventListener("input", () => {
        settings.notesFontRem = parseFloat(notesFontSlider.value);
        notesFontValue.textContent = settings.notesFontRem.toFixed(2) + "rem";
        applyFontSettings();
      });
    }

    function openSettings() {
      settingsBackdrop.classList.add("visible");
    }

    function closeSettings() {
      settingsBackdrop.classList.remove("visible");
    }

    openSettingsBtn.addEventListener("click", openSettings);
    closeSettingsBtn.addEventListener("click", closeSettings);

    settingsBackdrop.addEventListener("click", (e) => {
      if (e.target === settingsBackdrop) {
        closeSettings();
      }
    });

    toggleBanglaTranslation.addEventListener("change", renderAyahs);
    toggleWbw.addEventListener("change", renderAyahs);
    toggleGrammar.addEventListener("change", renderAyahs);

    function setMode(mode) {
      currentMode = mode;

      if (mode === "telawat") {
        modeTelawatBtnTop.classList.add("active");
        modeWbwBtnTop.classList.remove("active");
        topModeLabel.textContent = "‡¶§‡ßá‡¶≤‡¶æ‡¶ì‡¶Ø‡¶º‡¶æ‡¶§ ‡¶Æ‡ßã‡¶°";
      } else {
        modeTelawatBtnTop.classList.remove("active");
        modeWbwBtnTop.classList.add("active");
        topModeLabel.textContent = "‡¶∂‡¶¨‡ßç‡¶¶‡ßá‚Äì‡¶∂‡¶¨‡ßç‡¶¶‡ßá ‡¶Æ‡ßã‡¶°";
      }

      renderAyahs();
    }

    modeTelawatBtnTop.addEventListener("click", () => setMode("telawat"));
    modeWbwBtnTop.addEventListener("click", () => setMode("wbw"));

    backToHomeTop.addEventListener("click", () => {
      surahView.style.display = "none";
      homeView.style.display = "block";
      hideWordBar();
      currentSurah = null;
      currentSurahAr.textContent = "‡¶∏‡ßÅ‡¶∞‡¶æ ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®";
      currentSurahBn.textContent =
        "‡¶π‡ßã‡¶Æ ‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶ø‡¶® ‡¶•‡ßá‡¶ï‡ßá ‡¶Ø‡ßá ‡¶ï‡ßã‡¶®‡ßã ‡¶∏‡ßÇ‡¶∞‡¶æ‡ßü ‡¶ü‡ßç‡¶Ø‡¶æ‡¶™ ‡¶ï‡¶∞‡ßÅ‡¶®";
      window.scrollTo({ top: 0, behavior: "instant" });
    });

    function showWordBar(word, ayah, surah) {
      currentWordContext = { word, ayah, surah };
      wordBarAr.textContent = word.text || "";
      wordBarBn.textContent = word.meaningBn || "";
      wordBarAyahInfo.textContent = `‡¶∏‡ßÇ‡¶∞‡¶æ ${surah.surahNameBn} ‚Äî ‡¶Ü‡ßü‡¶æ‡¶§ ${
        ayah.ayahNumber
      }`;

      if (toggleWordHighlight.checked) {
        document
          .querySelectorAll(".word-pill")
          .forEach((el) => el.classList.remove("active"));
        if (word._pillElement) {
          word._pillElement.classList.add("active");
        }
      }

      if (toggleGrammar.checked && word.notes && word.notes.trim() !== "") {
        openGrammarBtn.style.display = "inline-flex";
      } else {
        openGrammarBtn.style.display = "none";
      }

      wordBar.classList.add("visible");
    }

    function hideWordBar() {
      wordBar.classList.remove("visible");
      document
        .querySelectorAll(".word-pill")
        .forEach((el) => el.classList.remove("active"));
      currentWordContext = null;
    }

    closeWordBarBtn.addEventListener("click", hideWordBar);

    function openGrammarModal() {
      if (!currentWordContext || !currentWordContext.word) return;
      const { word, ayah, surah } = currentWordContext;

      grammarModalAr.textContent = word.text || "";
      grammarModalBn.textContent = word.meaningBn || "";
      grammarModalText.textContent = word.notes || "";
      grammarModalAyahInfo.textContent = `‡¶∏‡ßÇ‡¶∞‡¶æ ${
        surah.surahNameBn
      } ‚Äî ‡¶Ü‡ßü‡¶æ‡¶§ ${ayah.ayahNumber}`;

      grammarModalBackdrop.classList.add("visible");
    }

    function closeGrammarModal() {
      grammarModalBackdrop.classList.remove("visible");
    }

    openGrammarBtn.addEventListener("click", openGrammarModal);
    closeGrammarModalBtn.addEventListener("click", closeGrammarModal);

    grammarModalBackdrop.addEventListener("click", (e) => {
      if (e.target === grammarModalBackdrop) {
        closeGrammarModal();
      }
    });

    function createAyahCard(ayah, surah) {
      const card = document.createElement("article");
      card.className = "ayah-card";

      const header = document.createElement("div");
      header.className = "ayah-header";

      const numberPill = document.createElement("div");
      numberPill.className = "ayah-number-pill";
      const dot = document.createElement("span");
      dot.className = "dot";
      const label = document.createElement("span");
      label.textContent = `‡¶Ü‡ßü‡¶æ‡¶§ ${ayah.ayahNumber}`;
      numberPill.appendChild(dot);
      numberPill.appendChild(label);

      header.appendChild(numberPill);
      card.appendChild(header);

      const ar = document.createElement("div");
      ar.className = "ayah-arabic";
      ar.textContent = ayah.arabic || "";
      card.appendChild(ar);

      if (toggleBanglaTranslation.checked && ayah.bangla) {
        const bn = document.createElement("div");
        bn.className = "ayah-bangla";
        bn.textContent = ayah.bangla;
        card.appendChild(bn);
      }

      if (
        currentMode === "wbw" &&
        toggleWbw.checked &&
        Array.isArray(ayah.words)
      ) {
        const grid = document.createElement("div");
        grid.className = "wbw-grid";

        ayah.words.forEach((word) => {
          const pill = document.createElement("button");
          pill.className = "word-pill";

          const arSpan = document.createElement("div");
          arSpan.className = "word-pill-ar";
          arSpan.textContent = word.text || "";

          const bnSpan = document.createElement("div");
          bnSpan.className = "word-pill-bn";
          bnSpan.textContent = word.meaningBn || "";

          pill.appendChild(arSpan);
          pill.appendChild(bnSpan);

          word._pillElement = pill;

          pill.addEventListener("click", () => {
            showWordBar(word, ayah, surah);
          });

          grid.appendChild(pill);
        });

        card.appendChild(grid);
      }

      return card;
    }

    function renderAyahs() {
      ayahContainer.innerHTML = "";
      hideWordBar();
      closeGrammarModal();

      if (!currentSurah) return;

      currentSurah.ayahs.forEach((ayah) => {
        const card = createAyahCard(ayah, currentSurah);
        ayahContainer.appendChild(card);
      });

      applyFontSettings();
    }

    function createSurahCard(meta) {
      const card = document.createElement("article");
      card.className = "surah-card";

      const header = document.createElement("div");
      header.className = "surah-card-header";

      const left = document.createElement("div");
      left.className = "surah-left";

      const num = document.createElement("div");
      num.className = "surah-number";
      num.textContent = `‡¶∏‡ßÇ‡¶∞‡¶æ ${meta.surahNumber.toString().padStart(3, "0")}`;

      const nameBn = document.createElement("div");
      nameBn.className = "surah-name-bn";
      nameBn.textContent = meta.surahNameBn;

      const metaLine = document.createElement("div");
      metaLine.className = "surah-meta";
      metaLine.textContent = meta.tagline || "‡¶∏‡¶Ç‡¶ï‡ßç‡¶∑‡¶ø‡¶™‡ßç‡¶§ ‡¶∏‡ßÇ‡¶∞‡¶æ";

      left.appendChild(num);
      left.appendChild(nameBn);
      left.appendChild(metaLine);

      const right = document.createElement("div");
      right.className = "surah-right";

      const nameAr = document.createElement("div");
      nameAr.className = "surah-name-ar";
      nameAr.textContent = meta.surahNameAr;

      const label = document.createElement("div");
      label.className = "surah-label";
      label.textContent = `${meta.ayahCount} ‡¶Ü‡ßü‡¶æ‡¶§ ¬∑ ${meta.place || "‡¶Æ‡¶ï‡ßç‡¶ï‡¶ø"}`;

      right.appendChild(nameAr);
      right.appendChild(label);

      header.appendChild(left);
      header.appendChild(right);
      card.appendChild(header);

      const chips = document.createElement("div");
      chips.className = "chip-row";

      const c1 = document.createElement("span");
      c1.className = "chip";
      const dot1 = document.createElement("span");
      dot1.className = "chip-dot";
      const t1 = document.createElement("span");
      t1.textContent = "‡¶∂‡¶¨‡ßç‡¶¶‡ßá‚Äì‡¶∂‡¶¨‡ßç‡¶¶‡ßá";
      c1.appendChild(dot1);
      c1.appendChild(t1);

      const c2 = document.createElement("span");
      c2.className = "chip";
      c2.textContent = "Grammar notes";

      chips.appendChild(c1);
      chips.appendChild(c2);

      card.appendChild(chips);

      card.addEventListener("click", () => openSurah(meta));

      return card;
    }

    const SURAH_META = [
      const SURAH_LIST = [
  {
    number: 102,
    nameAr: "ÿ≥Ÿàÿ±ÿ© ÿßŸÑÿ™ŸÉÿßÿ´ÿ±",
    nameBn: "‡¶∏‡ßÇ‡¶∞‡¶æ ‡¶Ü‡¶§-‡¶§‡¶æ‡¶ï‡¶æ‡¶∏‡ßÅ‡¶∞",
    file: "surah_102.json"
  },
  {
    number: 103,
    nameAr: "ÿ≥Ÿàÿ±ÿ© ÿßŸÑÿπÿµÿ±",
    nameBn: "‡¶∏‡ßÇ‡¶∞‡¶æ ‡¶Ü‡¶≤-'‡¶Ü‡¶∏‡¶∞",
    file: "surah_103.json"
  },
  {
    number: 104,
    nameAr: "ÿ≥Ÿàÿ±ÿ© ÿßŸÑŸáŸÖÿ≤ÿ©",
    nameBn: "‡¶∏‡ßÇ‡¶∞‡¶æ ‡¶Ü‡¶≤-‡¶π‡ßÅ‡¶Æ‡¶æ‡¶Ø‡¶æ‡¶π",
    file: "surah_104.json"
  }
    ];

    function loadSurahList() {
      surahList.innerHTML = "";
      SURAH_META.forEach((meta) => {
        const card = createSurahCard(meta);
        surahList.appendChild(card);
      });
    }

    async function openSurah(meta) {
      try {
        const res = await fetch(meta.file);
        if (!res.ok) throw new Error("JSON load failed");
        const data = await res.json();

        currentSurah = {
          ...data,
        };

        currentSurahAr.textContent = data.surahNameAr || meta.surahNameAr;
        currentSurahBn.textContent = data.surahNameBn || meta.surahNameBn;

        homeView.style.display = "none";
        surahView.style.display = "block";

        window.scrollTo({ top: 0, behavior: "instant" });

        renderAyahs();
      } catch (err) {
        console.error(err);
        alert(
          meta.file +
            " ‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡¶æ ‡¶Ø‡¶æ‡¶ö‡ßç‡¶õ‡ßá ‡¶®‡¶æ‡•§ ‡¶®‡¶ø‡¶∂‡ßç‡¶ö‡¶ø‡¶§ ‡¶π‡¶ì, ‡¶´‡¶æ‡¶á‡¶≤‡¶ü‡¶ø ‡¶è‡¶ï‡¶á ‡¶´‡ßã‡¶≤‡ßç‡¶°‡¶æ‡¶∞‡ßá ‡¶Ü‡¶õ‡ßá ‡¶è‡¶¨‡¶Ç valid JSON‡•§"
        );
      }
    }

    document.addEventListener("DOMContentLoaded", () => {
      loadSurahList();
      initFontSliders();
      applyFontSettings();
    });
  </script>
</body>
</html>
